# Human Page Scanner Recipe
# Quick relevance check for web pages
# Part of the 3-step human-like page reading process

name: human_scanner
category: navigation
role: REFLEX
temperature: 0.1

prompt_fragments:
  - "apps/prompts/navigation/human_scanner.md"

input_docs:
  - path: "page_preview"
    path_type: "inline"
    optional: false
    max_tokens: 3000
    description: "Page preview (first 2000 chars + last 1000 chars)"

token_budget:
  total: 3800
  prompt: 400
  input_docs: 3000
  output: 200
  buffer: 200

llm_params:
  temperature: 0.1
  max_tokens: 200

output_schema: PAGE_RELEVANCE

description: |
  Human Page Scanner - Step 1 of 3-step reading process

  Like a human quickly skimming a page to see if it's worth reading.
  Uses minimal tokens - just checks if page contains what we're looking for.

  **When to mark as RELEVANT:**
  - Forum posts discussing the topic
  - Reddit threads with user experiences
  - Review sites with relevant reviews
  - Product pages matching the search

  **Scoring Guidelines:**
  - 0.8-1.0: Direct match - specifically about the goal
  - 0.6-0.8: Strong relevance - discusses related topics
  - 0.4-0.6: Moderate relevance - mentions topic among others
  - 0.2-0.4: Weak relevance - tangential only
  - 0.0-0.2: Not relevant - different topic

  **Output Format:**
  ```json
  {
    "is_relevant": true/false,
    "relevance_score": 0.0-1.0,
    "relevant_sections": ["section 1", "section 2"],
    "skip_reason": "reason" or null
  }
  ```
