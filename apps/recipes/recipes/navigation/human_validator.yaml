# Human Data Validator Recipe
# Validates extracted data for quality and correctness
# Part of the 3-step human-like page reading process

name: human_validator
category: navigation
role: REFLEX
temperature: 0.1

prompt_fragments:
  - "apps/prompts/navigation/human_validator.md"

input_docs:
  - path: "extracted_data"
    path_type: "inline"
    optional: false
    max_tokens: 2000
    description: "Data extracted in Step 2"

token_budget:
  total: 3200
  prompt: 500
  input_docs: 2000
  output: 500
  buffer: 200

llm_params:
  temperature: 0.1
  max_tokens: 500

output_schema: VALIDATION_RESULT

description: |
  Human Data Validator - Step 3 of 3-step reading process

  Like a human double-checking what they read to make sure it makes sense.
  Quick validation pass to catch obvious errors or hallucinations.

  **Validation Checks:**
  1. Completeness - Is required information present?
  2. Consistency - Do values make sense together?
  3. Hallucinations - Any made-up or unlikely data?
  4. Format errors - Correct data types?

  **Confidence Scoring:**
  - 0.9-1.0: Complete, consistent, highly reliable
  - 0.7-0.9: Mostly complete with minor gaps
  - 0.5-0.7: Partial but still useful
  - 0.3-0.5: Questionable, use with caution
  - 0.0-0.3: Unreliable or fabricated

  **Output Format:**
  ```json
  {
    "is_valid": true/false,
    "confidence": 0.0-1.0,
    "issues": ["issue 1", "issue 2"] or [],
    "cleaned_data": {cleaned version}
  }
  ```
