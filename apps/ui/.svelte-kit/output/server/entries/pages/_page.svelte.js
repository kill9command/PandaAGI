import { b as get_store_value, c as create_ssr_component, e as escape, d as add_attribute, f as each, v as validate_component, a as subscribe, h as createEventDispatcher, o as onDestroy } from "../../chunks/ssr.js";
import { w as writable, d as derived } from "../../chunks/index.js";
import { marked } from "marked";
import DOMPurify from "dompurify";
const PROFILES_KEY = "pandora.profileList";
const REMEMBER_KEY = "pandora.profileRemember";
const DEFAULT_PROFILES = ["henry", "wife", "daughter"];
function getStored(key, fallback) {
  return fallback;
}
function setStored(key, value) {
  return;
}
const profiles = writable(getStored(PROFILES_KEY, DEFAULT_PROFILES));
profiles.subscribe((v) => setStored());
const remember = writable(getStored(REMEMBER_KEY, true));
remember.subscribe((v) => setStored());
const initialProfile = "henry";
const profile = writable(initialProfile);
profile.subscribe((v) => {
  if (get_store_value(remember)) ;
});
function loadMessages(profileName) {
  return [];
}
function saveMessages(profileName, messages2) {
  return;
}
const messages = writable(loadMessages(get_store_value(profile)));
profile.subscribe((p) => {
  messages.set(loadMessages());
});
messages.subscribe((m) => {
  saveMessages(get_store_value(profile));
});
const isLoading = writable(false);
const currentTraceId = writable(null);
function getInitialMode() {
  return "chat";
}
const mode = writable(getInitialMode());
mode.subscribe((v) => {
});
const repoRoot = writable(
  ""
);
repoRoot.subscribe((v) => {
});
const initialState$1 = {
  active: false,
  completed: false,
  status: "Ready",
  sseStatus: "idle",
  phases: {}
};
const thinking = writable(initialState$1);
const interventions = writable([]);
const tasks = writable([]);
const terminalLines = writable([]);
const terminalVisible = writable(false);
function createActionsStore() {
  const { subscribe: subscribe2, set, update } = writable({
    actions: [],
    turnId: null
  });
  let actionCounter = 0;
  return {
    subscribe: subscribe2,
    // Start tracking a new turn
    startTurn(turnId) {
      actionCounter = 0;
      set({ actions: [], turnId });
    },
    // Add an action to the log
    addAction(type, label, detail, success) {
      const icons = {
        memory: "üìÑ",
        search: "üîç",
        fetch: "üåê",
        fetch_retry: "üîÑ",
        route: "üõ§Ô∏è",
        tool: "üîß",
        error: "‚ùå",
        decision: "üí°"
      };
      const action = {
        id: `action-${++actionCounter}`,
        type,
        icon: icons[type] || "‚Ä¢",
        label,
        detail,
        timestamp: Date.now(),
        success
      };
      update((state) => ({
        ...state,
        actions: [...state.actions, action]
      }));
    },
    // Clear all actions
    clear() {
      set({ actions: [], turnId: null });
    },
    // Get current actions
    getActions() {
      return get_store_value({ subscribe: subscribe2 }).actions;
    }
  };
}
const actions = createActionsStore();
const css$l = {
  code: ".user-message.svelte-1b98b50{align-self:flex-end;max-width:85%;background:linear-gradient(90deg, #242449 70%, #31318e 100%);color:#f8f8fb;padding:12px 16px;border-radius:16px 16px 4px 16px;box-shadow:0 2px 8px rgba(34, 34, 90, 0.3)}.content.svelte-1b98b50{white-space:pre-wrap;word-break:break-word}.time.svelte-1b98b50{display:block;font-size:0.75em;color:rgba(255, 255, 255, 0.5);text-align:right;margin-top:4px}",
  map: '{"version":3,"file":"UserMessage.svelte","sources":["UserMessage.svelte"],"sourcesContent":["<script lang=\\"ts\\">export let content;\\nexport let timestamp;\\n$: timeStr = new Date(timestamp).toLocaleTimeString([], { hour: \\"2-digit\\", minute: \\"2-digit\\" });\\n<\/script>\\n\\n<div class=\\"user-message\\">\\n  <div class=\\"content\\">{content}</div>\\n  <span class=\\"time\\">{timeStr}</span>\\n</div>\\n\\n<style>\\n  .user-message {\\n    align-self: flex-end;\\n    max-width: 85%;\\n    background: linear-gradient(90deg, #242449 70%, #31318e 100%);\\n    color: #f8f8fb;\\n    padding: 12px 16px;\\n    border-radius: 16px 16px 4px 16px;\\n    box-shadow: 0 2px 8px rgba(34, 34, 90, 0.3);\\n  }\\n\\n  .content {\\n    white-space: pre-wrap;\\n    word-break: break-word;\\n  }\\n\\n  .time {\\n    display: block;\\n    font-size: 0.75em;\\n    color: rgba(255, 255, 255, 0.5);\\n    text-align: right;\\n    margin-top: 4px;\\n  }\\n</style>\\n"],"names":[],"mappings":"AAWE,4BAAc,CACZ,UAAU,CAAE,QAAQ,CACpB,SAAS,CAAE,GAAG,CACd,UAAU,CAAE,gBAAgB,KAAK,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,CAC7D,KAAK,CAAE,OAAO,CACd,OAAO,CAAE,IAAI,CAAC,IAAI,CAClB,aAAa,CAAE,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CACjC,UAAU,CAAE,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,KAAK,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAC5C,CAEA,uBAAS,CACP,WAAW,CAAE,QAAQ,CACrB,UAAU,CAAE,UACd,CAEA,oBAAM,CACJ,OAAO,CAAE,KAAK,CACd,SAAS,CAAE,MAAM,CACjB,KAAK,CAAE,KAAK,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAC/B,UAAU,CAAE,KAAK,CACjB,UAAU,CAAE,GACd"}'
};
const UserMessage = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  let timeStr;
  let { content } = $$props;
  let { timestamp } = $$props;
  if ($$props.content === void 0 && $$bindings.content && content !== void 0) $$bindings.content(content);
  if ($$props.timestamp === void 0 && $$bindings.timestamp && timestamp !== void 0) $$bindings.timestamp(timestamp);
  $$result.css.add(css$l);
  timeStr = new Date(timestamp).toLocaleTimeString([], { hour: "2-digit", minute: "2-digit" });
  return `<div class="user-message svelte-1b98b50"><div class="content svelte-1b98b50">${escape(content)}</div> <span class="time svelte-1b98b50">${escape(timeStr)}</span> </div>`;
});
const css$k = {
  code: ".code-block.svelte-1wn856{margin:8px 0;border-radius:8px;overflow:hidden;background:#1e1e1e;border:1px solid #2a2a33}.code-header.svelte-1wn856{display:flex;justify-content:space-between;align-items:center;padding:6px 12px;background:#2a2a33;font-size:0.8em}.language.svelte-1wn856{color:#9aa3c2;text-transform:lowercase}.copy-btn.svelte-1wn856{background:transparent;border:1px solid #3a3a43;color:#9aa3c2;padding:2px 8px;border-radius:4px;cursor:pointer;font-size:0.85em}.copy-btn.svelte-1wn856:hover{background:#3a3a43;color:#ececf1}pre.svelte-1wn856{margin:0;padding:12px;overflow-x:auto}code.svelte-1wn856{font-family:'Fira Mono', 'Consolas', monospace;font-size:0.9em;line-height:1.5}",
  map: `{"version":3,"file":"CodeBlock.svelte","sources":["CodeBlock.svelte"],"sourcesContent":["<script lang=\\"ts\\">import { onMount } from \\"svelte\\";\\nimport hljs from \\"highlight.js\\";\\nexport let code;\\nexport let language = \\"\\";\\nlet codeEl;\\nlet copied = false;\\nonMount(() => {\\n  if (codeEl && language) {\\n    hljs.highlightElement(codeEl);\\n  }\\n});\\nasync function copyCode() {\\n  try {\\n    await navigator.clipboard.writeText(code);\\n    copied = true;\\n    setTimeout(() => copied = false, 2e3);\\n  } catch {\\n  }\\n}\\n<\/script>\\n\\n<div class=\\"code-block\\">\\n  <div class=\\"code-header\\">\\n    <span class=\\"language\\">{language || 'code'}</span>\\n    <button class=\\"copy-btn\\" on:click={copyCode}>\\n      {copied ? '‚úì Copied' : 'Copy'}\\n    </button>\\n  </div>\\n  <pre><code bind:this={codeEl} class=\\"language-{language}\\">{code}</code></pre>\\n</div>\\n\\n<style>\\n  .code-block {\\n    margin: 8px 0;\\n    border-radius: 8px;\\n    overflow: hidden;\\n    background: #1e1e1e;\\n    border: 1px solid #2a2a33;\\n  }\\n\\n  .code-header {\\n    display: flex;\\n    justify-content: space-between;\\n    align-items: center;\\n    padding: 6px 12px;\\n    background: #2a2a33;\\n    font-size: 0.8em;\\n  }\\n\\n  .language {\\n    color: #9aa3c2;\\n    text-transform: lowercase;\\n  }\\n\\n  .copy-btn {\\n    background: transparent;\\n    border: 1px solid #3a3a43;\\n    color: #9aa3c2;\\n    padding: 2px 8px;\\n    border-radius: 4px;\\n    cursor: pointer;\\n    font-size: 0.85em;\\n  }\\n\\n  .copy-btn:hover {\\n    background: #3a3a43;\\n    color: #ececf1;\\n  }\\n\\n  pre {\\n    margin: 0;\\n    padding: 12px;\\n    overflow-x: auto;\\n  }\\n\\n  code {\\n    font-family: 'Fira Mono', 'Consolas', monospace;\\n    font-size: 0.9em;\\n    line-height: 1.5;\\n  }\\n</style>\\n"],"names":[],"mappings":"AAgCE,yBAAY,CACV,MAAM,CAAE,GAAG,CAAC,CAAC,CACb,aAAa,CAAE,GAAG,CAClB,QAAQ,CAAE,MAAM,CAChB,UAAU,CAAE,OAAO,CACnB,MAAM,CAAE,GAAG,CAAC,KAAK,CAAC,OACpB,CAEA,0BAAa,CACX,OAAO,CAAE,IAAI,CACb,eAAe,CAAE,aAAa,CAC9B,WAAW,CAAE,MAAM,CACnB,OAAO,CAAE,GAAG,CAAC,IAAI,CACjB,UAAU,CAAE,OAAO,CACnB,SAAS,CAAE,KACb,CAEA,uBAAU,CACR,KAAK,CAAE,OAAO,CACd,cAAc,CAAE,SAClB,CAEA,uBAAU,CACR,UAAU,CAAE,WAAW,CACvB,MAAM,CAAE,GAAG,CAAC,KAAK,CAAC,OAAO,CACzB,KAAK,CAAE,OAAO,CACd,OAAO,CAAE,GAAG,CAAC,GAAG,CAChB,aAAa,CAAE,GAAG,CAClB,MAAM,CAAE,OAAO,CACf,SAAS,CAAE,MACb,CAEA,uBAAS,MAAO,CACd,UAAU,CAAE,OAAO,CACnB,KAAK,CAAE,OACT,CAEA,iBAAI,CACF,MAAM,CAAE,CAAC,CACT,OAAO,CAAE,IAAI,CACb,UAAU,CAAE,IACd,CAEA,kBAAK,CACH,WAAW,CAAE,WAAW,CAAC,CAAC,UAAU,CAAC,CAAC,SAAS,CAC/C,SAAS,CAAE,KAAK,CAChB,WAAW,CAAE,GACf"}`
};
const CodeBlock = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  let { code } = $$props;
  let { language = "" } = $$props;
  let codeEl;
  if ($$props.code === void 0 && $$bindings.code && code !== void 0) $$bindings.code(code);
  if ($$props.language === void 0 && $$bindings.language && language !== void 0) $$bindings.language(language);
  $$result.css.add(css$k);
  return `<div class="code-block svelte-1wn856"><div class="code-header svelte-1wn856"><span class="language svelte-1wn856">${escape(language || "code")}</span> <button class="copy-btn svelte-1wn856">${escape("Copy")}</button></div> <pre class="svelte-1wn856"><code class="${"language-" + escape(language, true) + " svelte-1wn856"}"${add_attribute("this", codeEl, 0)}>${escape(code)}</code></pre> </div>`;
});
const css$j = {
  code: ".markdown.svelte-103v5cj{line-height:1.6}.markdown.svelte-103v5cj p{margin:0.5em 0}.markdown.svelte-103v5cj ul,.markdown.svelte-103v5cj ol{margin:0.5em 0;padding-left:1.5em}.markdown.svelte-103v5cj li{margin:0.25em 0}.markdown.svelte-103v5cj a{color:#68a8ef;text-decoration:none}.markdown.svelte-103v5cj a:hover{text-decoration:underline}.markdown.svelte-103v5cj code{background:#2a2a33;padding:2px 6px;border-radius:4px;font-family:'Fira Mono', 'Consolas', monospace;font-size:0.9em}.markdown.svelte-103v5cj blockquote{border-left:3px solid #445fe6;margin:0.5em 0;padding-left:1em;color:#9aa3c2}.markdown.svelte-103v5cj h1,.markdown.svelte-103v5cj h2,.markdown.svelte-103v5cj h3{margin:1em 0 0.5em;color:#ececf1}.markdown.svelte-103v5cj table{border-collapse:collapse;margin:0.5em 0;width:100%}.markdown.svelte-103v5cj th,.markdown.svelte-103v5cj td{border:1px solid #2a2a33;padding:8px;text-align:left}.markdown.svelte-103v5cj th{background:#1a1a22}",
  map: '{"version":3,"file":"Markdown.svelte","sources":["Markdown.svelte"],"sourcesContent":["<script lang=\\"ts\\">import { marked } from \\"marked\\";\\nimport DOMPurify from \\"dompurify\\";\\nimport CodeBlock from \\"./CodeBlock.svelte\\";\\nexport let content = \\"\\";\\nfunction extractCodeBlocks(text) {\\n  if (!text) return { html: \\"\\", codeBlocks: [] };\\n  const codeBlocks2 = [];\\n  const regex = /```(\\\\w*)\\\\n([\\\\s\\\\S]*?)```/g;\\n  let match;\\n  let result = text;\\n  let index = 0;\\n  while ((match = regex.exec(text)) !== null) {\\n    const placeholder = `__CODE_BLOCK_${index}__`;\\n    codeBlocks2.push({\\n      lang: match[1] || \\"\\",\\n      code: match[2].trim(),\\n      placeholder\\n    });\\n    result = result.replace(match[0], placeholder);\\n    index++;\\n  }\\n  return { html: result, codeBlocks: codeBlocks2 };\\n}\\n$: ({ html: textWithPlaceholders, codeBlocks } = extractCodeBlocks(content));\\n$: parsedHtml = textWithPlaceholders ? DOMPurify.sanitize(marked.parse(textWithPlaceholders, { async: false })) : \\"\\";\\n$: parts = parsedHtml.split(/(__CODE_BLOCK_\\\\d+__)/g);\\n<\/script>\\n\\n<div class=\\"markdown\\">\\n  {#each parts as part}\\n    {#if part.startsWith(\'__CODE_BLOCK_\')}\\n      {@const blockIndex = parseInt(part.match(/\\\\d+/)?.[0] || \'0\')}\\n      {@const block = codeBlocks[blockIndex]}\\n      {#if block}\\n        <CodeBlock code={block.code} language={block.lang} />\\n      {/if}\\n    {:else}\\n      {@html part}\\n    {/if}\\n  {/each}\\n</div>\\n\\n<style>\\n  .markdown {\\n    line-height: 1.6;\\n  }\\n\\n  .markdown :global(p) {\\n    margin: 0.5em 0;\\n  }\\n\\n  .markdown :global(ul), .markdown :global(ol) {\\n    margin: 0.5em 0;\\n    padding-left: 1.5em;\\n  }\\n\\n  .markdown :global(li) {\\n    margin: 0.25em 0;\\n  }\\n\\n  .markdown :global(a) {\\n    color: #68a8ef;\\n    text-decoration: none;\\n  }\\n\\n  .markdown :global(a:hover) {\\n    text-decoration: underline;\\n  }\\n\\n  .markdown :global(code) {\\n    background: #2a2a33;\\n    padding: 2px 6px;\\n    border-radius: 4px;\\n    font-family: \'Fira Mono\', \'Consolas\', monospace;\\n    font-size: 0.9em;\\n  }\\n\\n  .markdown :global(blockquote) {\\n    border-left: 3px solid #445fe6;\\n    margin: 0.5em 0;\\n    padding-left: 1em;\\n    color: #9aa3c2;\\n  }\\n\\n  .markdown :global(h1), .markdown :global(h2), .markdown :global(h3) {\\n    margin: 1em 0 0.5em;\\n    color: #ececf1;\\n  }\\n\\n  .markdown :global(table) {\\n    border-collapse: collapse;\\n    margin: 0.5em 0;\\n    width: 100%;\\n  }\\n\\n  .markdown :global(th), .markdown :global(td) {\\n    border: 1px solid #2a2a33;\\n    padding: 8px;\\n    text-align: left;\\n  }\\n\\n  .markdown :global(th) {\\n    background: #1a1a22;\\n  }\\n</style>\\n"],"names":[],"mappings":"AA2CE,wBAAU,CACR,WAAW,CAAE,GACf,CAEA,wBAAS,CAAS,CAAG,CACnB,MAAM,CAAE,KAAK,CAAC,CAChB,CAEA,wBAAS,CAAS,EAAG,CAAE,wBAAS,CAAS,EAAI,CAC3C,MAAM,CAAE,KAAK,CAAC,CAAC,CACf,YAAY,CAAE,KAChB,CAEA,wBAAS,CAAS,EAAI,CACpB,MAAM,CAAE,MAAM,CAAC,CACjB,CAEA,wBAAS,CAAS,CAAG,CACnB,KAAK,CAAE,OAAO,CACd,eAAe,CAAE,IACnB,CAEA,wBAAS,CAAS,OAAS,CACzB,eAAe,CAAE,SACnB,CAEA,wBAAS,CAAS,IAAM,CACtB,UAAU,CAAE,OAAO,CACnB,OAAO,CAAE,GAAG,CAAC,GAAG,CAChB,aAAa,CAAE,GAAG,CAClB,WAAW,CAAE,WAAW,CAAC,CAAC,UAAU,CAAC,CAAC,SAAS,CAC/C,SAAS,CAAE,KACb,CAEA,wBAAS,CAAS,UAAY,CAC5B,WAAW,CAAE,GAAG,CAAC,KAAK,CAAC,OAAO,CAC9B,MAAM,CAAE,KAAK,CAAC,CAAC,CACf,YAAY,CAAE,GAAG,CACjB,KAAK,CAAE,OACT,CAEA,wBAAS,CAAS,EAAG,CAAE,wBAAS,CAAS,EAAG,CAAE,wBAAS,CAAS,EAAI,CAClE,MAAM,CAAE,GAAG,CAAC,CAAC,CAAC,KAAK,CACnB,KAAK,CAAE,OACT,CAEA,wBAAS,CAAS,KAAO,CACvB,eAAe,CAAE,QAAQ,CACzB,MAAM,CAAE,KAAK,CAAC,CAAC,CACf,KAAK,CAAE,IACT,CAEA,wBAAS,CAAS,EAAG,CAAE,wBAAS,CAAS,EAAI,CAC3C,MAAM,CAAE,GAAG,CAAC,KAAK,CAAC,OAAO,CACzB,OAAO,CAAE,GAAG,CACZ,UAAU,CAAE,IACd,CAEA,wBAAS,CAAS,EAAI,CACpB,UAAU,CAAE,OACd"}'
};
function extractCodeBlocks(text) {
  if (!text) return { html: "", codeBlocks: [] };
  const codeBlocks2 = [];
  const regex = /```(\w*)\n([\s\S]*?)```/g;
  let match;
  let result = text;
  let index = 0;
  while ((match = regex.exec(text)) !== null) {
    const placeholder = `__CODE_BLOCK_${index}__`;
    codeBlocks2.push({
      lang: match[1] || "",
      code: match[2].trim(),
      placeholder
    });
    result = result.replace(match[0], placeholder);
    index++;
  }
  return { html: result, codeBlocks: codeBlocks2 };
}
const Markdown = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  let textWithPlaceholders;
  let codeBlocks;
  let parsedHtml;
  let parts;
  let { content = "" } = $$props;
  if ($$props.content === void 0 && $$bindings.content && content !== void 0) $$bindings.content(content);
  $$result.css.add(css$j);
  ({ html: textWithPlaceholders, codeBlocks } = extractCodeBlocks(content));
  parsedHtml = textWithPlaceholders ? DOMPurify.sanitize(marked.parse(textWithPlaceholders, { async: false })) : "";
  parts = parsedHtml.split(/(__CODE_BLOCK_\d+__)/g);
  return `<div class="markdown svelte-103v5cj">${each(parts, (part) => {
    return `${part.startsWith("__CODE_BLOCK_") ? (() => {
      let blockIndex = parseInt(part.match(/\d+/)?.[0] || "0"), block = codeBlocks[blockIndex];
      return `  ${block ? `${validate_component(CodeBlock, "CodeBlock").$$render($$result, { code: block.code, language: block.lang }, {}, {})}` : ``}`;
    })() : `<!-- HTML_TAG_START -->${part}<!-- HTML_TAG_END -->`}`;
  })} </div>`;
});
const css$i = {
  code: ".spinner.svelte-15dr6sn{display:inline-block;border:2px solid;border-radius:50%;animation:svelte-15dr6sn-spin 1s linear infinite}@keyframes svelte-15dr6sn-spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}",
  map: '{"version":3,"file":"Spinner.svelte","sources":["Spinner.svelte"],"sourcesContent":["<script lang=\\"ts\\">export let size = 16;\\nexport let color = \\"#68a8ef\\";\\n<\/script>\\n\\n<span\\n  class=\\"spinner\\"\\n  style=\\"width: {size}px; height: {size}px; border-color: {color}; border-top-color: transparent;\\"\\n></span>\\n\\n<style>\\n  .spinner {\\n    display: inline-block;\\n    border: 2px solid;\\n    border-radius: 50%;\\n    animation: spin 1s linear infinite;\\n  }\\n\\n  @keyframes spin {\\n    0% { transform: rotate(0deg); }\\n    100% { transform: rotate(360deg); }\\n  }\\n</style>\\n"],"names":[],"mappings":"AAUE,uBAAS,CACP,OAAO,CAAE,YAAY,CACrB,MAAM,CAAE,GAAG,CAAC,KAAK,CACjB,aAAa,CAAE,GAAG,CAClB,SAAS,CAAE,mBAAI,CAAC,EAAE,CAAC,MAAM,CAAC,QAC5B,CAEA,WAAW,mBAAK,CACd,EAAG,CAAE,SAAS,CAAE,OAAO,IAAI,CAAG,CAC9B,IAAK,CAAE,SAAS,CAAE,OAAO,MAAM,CAAG,CACpC"}'
};
const Spinner = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  let { size = 16 } = $$props;
  let { color = "#68a8ef" } = $$props;
  if ($$props.size === void 0 && $$bindings.size && size !== void 0) $$bindings.size(size);
  if ($$props.color === void 0 && $$bindings.color && color !== void 0) $$bindings.color(color);
  $$result.css.add(css$i);
  return `<span class="spinner svelte-15dr6sn" style="${"width: " + escape(size, true) + "px; height: " + escape(size, true) + "px; border-color: " + escape(color, true) + "; border-top-color: transparent;"}"></span>`;
});
const css$h = {
  code: ".response-message.svelte-15mukdv{align-self:flex-start;max-width:90%;background:#202025;color:#ececf1;padding:12px 16px;border-radius:16px 16px 16px 4px;border-left:3px solid #445fe6;box-shadow:0 2px 8px rgba(0, 0, 0, 0.2)}.loading.svelte-15mukdv{display:flex;align-items:center;gap:8px;color:#9aa3c2;font-style:italic}.content.svelte-15mukdv{line-height:1.6}.footer.svelte-15mukdv{display:flex;justify-content:space-between;align-items:center;margin-top:8px;padding-top:8px;border-top:1px solid #2a2a33}.time.svelte-15mukdv{font-size:0.75em;color:#9aa3c2}.copy-btn.svelte-15mukdv{background:transparent;border:none;color:#9aa3c2;cursor:pointer;padding:2px 6px;font-size:0.9em}.copy-btn.svelte-15mukdv:hover{color:#ececf1}",
  map: `{"version":3,"file":"ResponseMessage.svelte","sources":["ResponseMessage.svelte"],"sourcesContent":["<script lang=\\"ts\\">import Markdown from \\"./Markdown.svelte\\";\\nimport Spinner from \\"$lib/components/common/Spinner.svelte\\";\\nexport let content;\\nexport let timestamp;\\nexport let isLoading = false;\\nlet copied = false;\\n$: timeStr = new Date(timestamp).toLocaleTimeString([], { hour: \\"2-digit\\", minute: \\"2-digit\\" });\\nasync function copyContent() {\\n  try {\\n    await navigator.clipboard.writeText(content);\\n    copied = true;\\n    setTimeout(() => copied = false, 2e3);\\n  } catch {\\n  }\\n}\\n<\/script>\\n\\n<div class=\\"response-message\\">\\n  {#if isLoading && !content}\\n    <div class=\\"loading\\">\\n      <Spinner size={14} />\\n      <span>Thinking...</span>\\n    </div>\\n  {:else}\\n    <div class=\\"content\\">\\n      <Markdown {content} />\\n    </div>\\n    <div class=\\"footer\\">\\n      <span class=\\"time\\">{timeStr}</span>\\n      <button class=\\"copy-btn\\" on:click={copyContent}>\\n        {copied ? '‚úì' : 'üìã'}\\n      </button>\\n    </div>\\n  {/if}\\n</div>\\n\\n<style>\\n  .response-message {\\n    align-self: flex-start;\\n    max-width: 90%;\\n    background: #202025;\\n    color: #ececf1;\\n    padding: 12px 16px;\\n    border-radius: 16px 16px 16px 4px;\\n    border-left: 3px solid #445fe6;\\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);\\n  }\\n\\n  .loading {\\n    display: flex;\\n    align-items: center;\\n    gap: 8px;\\n    color: #9aa3c2;\\n    font-style: italic;\\n  }\\n\\n  .content {\\n    line-height: 1.6;\\n  }\\n\\n  .footer {\\n    display: flex;\\n    justify-content: space-between;\\n    align-items: center;\\n    margin-top: 8px;\\n    padding-top: 8px;\\n    border-top: 1px solid #2a2a33;\\n  }\\n\\n  .time {\\n    font-size: 0.75em;\\n    color: #9aa3c2;\\n  }\\n\\n  .copy-btn {\\n    background: transparent;\\n    border: none;\\n    color: #9aa3c2;\\n    cursor: pointer;\\n    padding: 2px 6px;\\n    font-size: 0.9em;\\n  }\\n\\n  .copy-btn:hover {\\n    color: #ececf1;\\n  }\\n</style>\\n"],"names":[],"mappings":"AAqCE,gCAAkB,CAChB,UAAU,CAAE,UAAU,CACtB,SAAS,CAAE,GAAG,CACd,UAAU,CAAE,OAAO,CACnB,KAAK,CAAE,OAAO,CACd,OAAO,CAAE,IAAI,CAAC,IAAI,CAClB,aAAa,CAAE,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CACjC,WAAW,CAAE,GAAG,CAAC,KAAK,CAAC,OAAO,CAC9B,UAAU,CAAE,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CACzC,CAEA,uBAAS,CACP,OAAO,CAAE,IAAI,CACb,WAAW,CAAE,MAAM,CACnB,GAAG,CAAE,GAAG,CACR,KAAK,CAAE,OAAO,CACd,UAAU,CAAE,MACd,CAEA,uBAAS,CACP,WAAW,CAAE,GACf,CAEA,sBAAQ,CACN,OAAO,CAAE,IAAI,CACb,eAAe,CAAE,aAAa,CAC9B,WAAW,CAAE,MAAM,CACnB,UAAU,CAAE,GAAG,CACf,WAAW,CAAE,GAAG,CAChB,UAAU,CAAE,GAAG,CAAC,KAAK,CAAC,OACxB,CAEA,oBAAM,CACJ,SAAS,CAAE,MAAM,CACjB,KAAK,CAAE,OACT,CAEA,wBAAU,CACR,UAAU,CAAE,WAAW,CACvB,MAAM,CAAE,IAAI,CACZ,KAAK,CAAE,OAAO,CACd,MAAM,CAAE,OAAO,CACf,OAAO,CAAE,GAAG,CAAC,GAAG,CAChB,SAAS,CAAE,KACb,CAEA,wBAAS,MAAO,CACd,KAAK,CAAE,OACT"}`
};
const ResponseMessage = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  let timeStr;
  let { content } = $$props;
  let { timestamp } = $$props;
  let { isLoading: isLoading2 = false } = $$props;
  if ($$props.content === void 0 && $$bindings.content && content !== void 0) $$bindings.content(content);
  if ($$props.timestamp === void 0 && $$bindings.timestamp && timestamp !== void 0) $$bindings.timestamp(timestamp);
  if ($$props.isLoading === void 0 && $$bindings.isLoading && isLoading2 !== void 0) $$bindings.isLoading(isLoading2);
  $$result.css.add(css$h);
  timeStr = new Date(timestamp).toLocaleTimeString([], { hour: "2-digit", minute: "2-digit" });
  return `<div class="response-message svelte-15mukdv">${isLoading2 && !content ? `<div class="loading svelte-15mukdv">${validate_component(Spinner, "Spinner").$$render($$result, { size: 14 }, {}, {})} <span data-svelte-h="svelte-1qmwp28">Thinking...</span></div>` : `<div class="content svelte-15mukdv">${validate_component(Markdown, "Markdown").$$render($$result, { content }, {}, {})}</div> <div class="footer svelte-15mukdv"><span class="time svelte-15mukdv">${escape(timeStr)}</span> <button class="copy-btn svelte-15mukdv">${escape("üìã")}</button></div>`} </div>`;
});
const css$g = {
  code: ".input-container.svelte-1j37frt{display:flex;gap:10px;padding:12px;background:#181820;border-top:1px solid #22222a}textarea.svelte-1j37frt{flex:1;resize:none;border:none;padding:12px;border-radius:8px;font-size:1em;font-family:inherit;background:#101014;color:#ececf1;outline:none;min-height:44px;max-height:200px}textarea.svelte-1j37frt:focus{box-shadow:0 0 0 2px rgba(68, 95, 230, 0.3)}textarea.svelte-1j37frt:disabled{opacity:0.7;cursor:not-allowed}.buttons.svelte-1j37frt{display:flex;gap:8px;align-items:flex-end}.send-btn.svelte-1j37frt{background:linear-gradient(90deg, #31318e 60%, #4263eb 100%);color:#fff;border:none;border-radius:8px;padding:10px 20px;font-size:1em;font-weight:600;cursor:pointer;transition:background 0.2s}.send-btn.svelte-1j37frt:hover:not(:disabled){background:linear-gradient(90deg, #21214c 60%, #364fc7 100%)}.send-btn.svelte-1j37frt:disabled{opacity:0.5;cursor:not-allowed}.cancel-btn.svelte-1j37frt{background:#dc3545;color:#fff;border:none;border-radius:8px;padding:10px 20px;font-size:1em;font-weight:600;cursor:pointer}.cancel-btn.svelte-1j37frt:hover{background:#c82333}",
  map: '{"version":3,"file":"MessageInput.svelte","sources":["MessageInput.svelte"],"sourcesContent":["<script lang=\\"ts\\">import { createEventDispatcher } from \\"svelte\\";\\nimport { isLoading, currentTraceId } from \\"$lib/stores/chat\\";\\nimport { cancelRequest } from \\"$lib/api/client\\";\\nexport let placeholder = \\"Type your message...\\";\\nconst dispatch = createEventDispatcher();\\nlet value = \\"\\";\\nlet textareaEl;\\nfunction handleSubmit() {\\n  if (!value.trim() || $isLoading) return;\\n  dispatch(\\"submit\\", value.trim());\\n  value = \\"\\";\\n  if (textareaEl) textareaEl.style.height = \\"auto\\";\\n}\\nfunction handleKeydown(e) {\\n  if (e.key === \\"Enter\\" && !e.shiftKey) {\\n    e.preventDefault();\\n    handleSubmit();\\n  }\\n}\\nfunction handleInput() {\\n  if (textareaEl) {\\n    textareaEl.style.height = \\"auto\\";\\n    textareaEl.style.height = Math.min(textareaEl.scrollHeight, 200) + \\"px\\";\\n  }\\n}\\nasync function handleCancel() {\\n  if ($currentTraceId) {\\n    await cancelRequest($currentTraceId);\\n  }\\n}\\n<\/script>\\n\\n<div class=\\"input-container\\">\\n  <textarea\\n    bind:this={textareaEl}\\n    bind:value\\n    {placeholder}\\n    on:keydown={handleKeydown}\\n    on:input={handleInput}\\n    rows=\\"1\\"\\n    disabled={$isLoading}\\n  ></textarea>\\n\\n  <div class=\\"buttons\\">\\n    {#if $isLoading}\\n      <button class=\\"cancel-btn\\" on:click={handleCancel}>Cancel</button>\\n    {:else}\\n      <button class=\\"send-btn\\" on:click={handleSubmit} disabled={!value.trim()}>\\n        Send\\n      </button>\\n    {/if}\\n  </div>\\n</div>\\n\\n<style>\\n  .input-container {\\n    display: flex;\\n    gap: 10px;\\n    padding: 12px;\\n    background: #181820;\\n    border-top: 1px solid #22222a;\\n  }\\n\\n  textarea {\\n    flex: 1;\\n    resize: none;\\n    border: none;\\n    padding: 12px;\\n    border-radius: 8px;\\n    font-size: 1em;\\n    font-family: inherit;\\n    background: #101014;\\n    color: #ececf1;\\n    outline: none;\\n    min-height: 44px;\\n    max-height: 200px;\\n  }\\n\\n  textarea:focus {\\n    box-shadow: 0 0 0 2px rgba(68, 95, 230, 0.3);\\n  }\\n\\n  textarea:disabled {\\n    opacity: 0.7;\\n    cursor: not-allowed;\\n  }\\n\\n  .buttons {\\n    display: flex;\\n    gap: 8px;\\n    align-items: flex-end;\\n  }\\n\\n  .send-btn {\\n    background: linear-gradient(90deg, #31318e 60%, #4263eb 100%);\\n    color: #fff;\\n    border: none;\\n    border-radius: 8px;\\n    padding: 10px 20px;\\n    font-size: 1em;\\n    font-weight: 600;\\n    cursor: pointer;\\n    transition: background 0.2s;\\n  }\\n\\n  .send-btn:hover:not(:disabled) {\\n    background: linear-gradient(90deg, #21214c 60%, #364fc7 100%);\\n  }\\n\\n  .send-btn:disabled {\\n    opacity: 0.5;\\n    cursor: not-allowed;\\n  }\\n\\n  .cancel-btn {\\n    background: #dc3545;\\n    color: #fff;\\n    border: none;\\n    border-radius: 8px;\\n    padding: 10px 20px;\\n    font-size: 1em;\\n    font-weight: 600;\\n    cursor: pointer;\\n  }\\n\\n  .cancel-btn:hover {\\n    background: #c82333;\\n  }\\n</style>\\n"],"names":[],"mappings":"AAuDE,+BAAiB,CACf,OAAO,CAAE,IAAI,CACb,GAAG,CAAE,IAAI,CACT,OAAO,CAAE,IAAI,CACb,UAAU,CAAE,OAAO,CACnB,UAAU,CAAE,GAAG,CAAC,KAAK,CAAC,OACxB,CAEA,uBAAS,CACP,IAAI,CAAE,CAAC,CACP,MAAM,CAAE,IAAI,CACZ,MAAM,CAAE,IAAI,CACZ,OAAO,CAAE,IAAI,CACb,aAAa,CAAE,GAAG,CAClB,SAAS,CAAE,GAAG,CACd,WAAW,CAAE,OAAO,CACpB,UAAU,CAAE,OAAO,CACnB,KAAK,CAAE,OAAO,CACd,OAAO,CAAE,IAAI,CACb,UAAU,CAAE,IAAI,CAChB,UAAU,CAAE,KACd,CAEA,uBAAQ,MAAO,CACb,UAAU,CAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,KAAK,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAC7C,CAEA,uBAAQ,SAAU,CAChB,OAAO,CAAE,GAAG,CACZ,MAAM,CAAE,WACV,CAEA,uBAAS,CACP,OAAO,CAAE,IAAI,CACb,GAAG,CAAE,GAAG,CACR,WAAW,CAAE,QACf,CAEA,wBAAU,CACR,UAAU,CAAE,gBAAgB,KAAK,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,CAC7D,KAAK,CAAE,IAAI,CACX,MAAM,CAAE,IAAI,CACZ,aAAa,CAAE,GAAG,CAClB,OAAO,CAAE,IAAI,CAAC,IAAI,CAClB,SAAS,CAAE,GAAG,CACd,WAAW,CAAE,GAAG,CAChB,MAAM,CAAE,OAAO,CACf,UAAU,CAAE,UAAU,CAAC,IACzB,CAEA,wBAAS,MAAM,KAAK,SAAS,CAAE,CAC7B,UAAU,CAAE,gBAAgB,KAAK,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,IAAI,CAC9D,CAEA,wBAAS,SAAU,CACjB,OAAO,CAAE,GAAG,CACZ,MAAM,CAAE,WACV,CAEA,0BAAY,CACV,UAAU,CAAE,OAAO,CACnB,KAAK,CAAE,IAAI,CACX,MAAM,CAAE,IAAI,CACZ,aAAa,CAAE,GAAG,CAClB,OAAO,CAAE,IAAI,CAAC,IAAI,CAClB,SAAS,CAAE,GAAG,CACd,WAAW,CAAE,GAAG,CAChB,MAAM,CAAE,OACV,CAEA,0BAAW,MAAO,CAChB,UAAU,CAAE,OACd"}'
};
const MessageInput = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  let $$unsubscribe_currentTraceId;
  let $isLoading, $$unsubscribe_isLoading;
  $$unsubscribe_currentTraceId = subscribe(currentTraceId, (value2) => value2);
  $$unsubscribe_isLoading = subscribe(isLoading, (value2) => $isLoading = value2);
  let { placeholder = "Type your message..." } = $$props;
  createEventDispatcher();
  let value = "";
  let textareaEl;
  if ($$props.placeholder === void 0 && $$bindings.placeholder && placeholder !== void 0) $$bindings.placeholder(placeholder);
  $$result.css.add(css$g);
  $$unsubscribe_currentTraceId();
  $$unsubscribe_isLoading();
  return `<div class="input-container svelte-1j37frt"><textarea${add_attribute("placeholder", placeholder, 0)} rows="1" ${$isLoading ? "disabled" : ""} class="svelte-1j37frt"${add_attribute("this", textareaEl, 0)}>${escape("")}</textarea> <div class="buttons svelte-1j37frt">${$isLoading ? `<button class="cancel-btn svelte-1j37frt" data-svelte-h="svelte-7oczao">Cancel</button>` : `<button class="send-btn svelte-1j37frt" ${!value.trim() ? "disabled" : ""}>Send</button>`}</div> </div>`;
});
const css$f = {
  code: ".thinking-panel.svelte-1ji6ouo.svelte-1ji6ouo{background:#1a1a22;border:1px solid #2a2a33;border-radius:8px;margin:8px;max-height:60vh;overflow-y:auto}.thinking-panel.completed.svelte-1ji6ouo.svelte-1ji6ouo{border-color:#3d5a3d;background:#161a16}header.svelte-1ji6ouo.svelte-1ji6ouo{display:flex;align-items:center;justify-content:space-between;padding:10px 14px;background:#22222a;cursor:pointer;border-radius:7px 7px 0 0}.thinking-panel.completed.svelte-1ji6ouo header.svelte-1ji6ouo{background:#1a2a1a}.left.svelte-1ji6ouo.svelte-1ji6ouo{display:flex;align-items:center;gap:10px}strong.svelte-1ji6ouo.svelte-1ji6ouo{color:#ececf1;font-size:0.85em;letter-spacing:0.05em}.status.svelte-1ji6ouo.svelte-1ji6ouo{color:#9aa3c2;font-size:0.8em}.check-icon.svelte-1ji6ouo.svelte-1ji6ouo{font-size:1em;color:#7fd288}.phase-count.svelte-1ji6ouo.svelte-1ji6ouo{color:#7fd288;font-size:0.8em}.toggle.svelte-1ji6ouo.svelte-1ji6ouo{background:transparent;border:none;color:#68a8ef;font-size:0.9em;cursor:pointer;padding:4px 8px}.toggle.svelte-1ji6ouo.svelte-1ji6ouo:hover{color:#8dc8ff}.phases.svelte-1ji6ouo.svelte-1ji6ouo{padding:12px;display:flex;flex-direction:column;gap:8px}.phase.svelte-1ji6ouo.svelte-1ji6ouo{background:#101014;border-left:3px solid var(--phase-color, #68a8ef);border-radius:6px;padding:8px 12px;opacity:0.4;transition:opacity 0.2s, background 0.2s}.phase.active.svelte-1ji6ouo.svelte-1ji6ouo,.phase.completed.svelte-1ji6ouo.svelte-1ji6ouo{opacity:1}.phase.has-content.svelte-1ji6ouo.svelte-1ji6ouo:hover{background:#14141a}.phase-header.svelte-1ji6ouo.svelte-1ji6ouo{display:flex;align-items:center;gap:8px;width:100%;background:transparent;border:none;padding:0;cursor:pointer;text-align:left;color:inherit}.phase-header.svelte-1ji6ouo.svelte-1ji6ouo:disabled{cursor:default}.icon.svelte-1ji6ouo.svelte-1ji6ouo{font-size:1em}.label.svelte-1ji6ouo.svelte-1ji6ouo{color:#ececf1;font-size:0.85em;font-weight:500;flex:1}.badge.svelte-1ji6ouo.svelte-1ji6ouo{font-size:0.7em;padding:2px 6px;background:#2a2a33;border-radius:4px;color:#9aa3c2;text-transform:uppercase}.badge.active.svelte-1ji6ouo.svelte-1ji6ouo{background:var(--phase-color, #68a8ef);color:#fff}.badge.completed.svelte-1ji6ouo.svelte-1ji6ouo{background:#7fd288;color:#000}.expand-icon.svelte-1ji6ouo.svelte-1ji6ouo{color:#68a8ef;font-size:0.7em;margin-left:4px}.phase-content.svelte-1ji6ouo.svelte-1ji6ouo{margin-top:10px;background:#0a0a0e;border-radius:6px;overflow:hidden}.tabs.svelte-1ji6ouo.svelte-1ji6ouo{display:flex;border-bottom:1px solid #2a2a33}.tab.svelte-1ji6ouo.svelte-1ji6ouo{flex:1;padding:8px 12px;background:transparent;border:none;color:#6b7280;font-size:0.75em;font-weight:500;cursor:pointer;display:flex;align-items:center;justify-content:center;gap:6px;transition:all 0.2s}.tab.svelte-1ji6ouo.svelte-1ji6ouo:hover:not(:disabled){background:#14141a;color:#9aa3c2}.tab.active.svelte-1ji6ouo.svelte-1ji6ouo{background:#1a1a22;color:#ececf1;border-bottom:2px solid var(--phase-color, #68a8ef)}.tab.svelte-1ji6ouo.svelte-1ji6ouo:disabled{cursor:not-allowed;opacity:0.4}.tab-icon.svelte-1ji6ouo.svelte-1ji6ouo{font-size:1.1em}.tab-hint.svelte-1ji6ouo.svelte-1ji6ouo{font-size:0.85em;opacity:0.7}.content-area.svelte-1ji6ouo.svelte-1ji6ouo{max-height:300px;overflow-y:auto}.content-area.svelte-1ji6ouo pre.svelte-1ji6ouo{margin:0;padding:12px;font-size:0.75em;line-height:1.5;color:#c8d0e8;white-space:pre-wrap;word-wrap:break-word;font-family:'SF Mono', 'Fira Code', 'Consolas', monospace}.no-content.svelte-1ji6ouo.svelte-1ji6ouo{padding:20px;text-align:center;color:#6b7280;font-size:0.8em;font-style:italic}.journey-section.svelte-1ji6ouo.svelte-1ji6ouo{margin:12px;margin-top:4px;background:#12121a;border:1px solid #2a2a33;border-radius:6px;overflow:hidden}.journey-header.svelte-1ji6ouo.svelte-1ji6ouo{display:flex;justify-content:space-between;align-items:center;padding:8px 12px;background:#1a1a22;border-bottom:1px solid #2a2a33}.journey-title.svelte-1ji6ouo.svelte-1ji6ouo{font-size:0.75em;font-weight:600;color:#9aa3c2;text-transform:uppercase;letter-spacing:0.05em}.journey-count.svelte-1ji6ouo.svelte-1ji6ouo{font-size:0.7em;color:#6b7280}.journey-actions.svelte-1ji6ouo.svelte-1ji6ouo{padding:8px;display:flex;flex-direction:column;gap:4px;max-height:150px;overflow-y:auto}.journey-action.svelte-1ji6ouo.svelte-1ji6ouo{display:flex;align-items:flex-start;gap:8px;padding:6px 8px;background:#0a0a0e;border-radius:4px;border-left:2px solid #3a3a44;transition:border-color 0.2s}.journey-action.success.svelte-1ji6ouo.svelte-1ji6ouo{border-left-color:#7fd288}.journey-action.error.svelte-1ji6ouo.svelte-1ji6ouo{border-left-color:#ef6b6b;background:#1a0a0a}.action-icon.svelte-1ji6ouo.svelte-1ji6ouo{font-size:0.85em;flex-shrink:0;margin-top:1px}.action-content.svelte-1ji6ouo.svelte-1ji6ouo{flex:1;min-width:0;display:flex;flex-direction:column;gap:2px}.action-label.svelte-1ji6ouo.svelte-1ji6ouo{font-size:0.75em;color:#ececf1;font-weight:500}.action-detail.svelte-1ji6ouo.svelte-1ji6ouo{font-size:0.65em;color:#6b7280;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.action-status.svelte-1ji6ouo.svelte-1ji6ouo{font-size:0.7em;flex-shrink:0}.action-status.success.svelte-1ji6ouo.svelte-1ji6ouo{color:#7fd288}.action-status.error.svelte-1ji6ouo.svelte-1ji6ouo{color:#ef6b6b}",
  map: `{"version":3,"file":"ThinkingPanel.svelte","sources":["ThinkingPanel.svelte"],"sourcesContent":["<script lang=\\"ts\\">import { thinking } from \\"$lib/stores/thinking\\";\\nimport { actions } from \\"$lib/stores/actions\\";\\nimport Spinner from \\"$lib/components/common/Spinner.svelte\\";\\nconst phaseDefinitions = [\\n  { key: \\"phase_0_query_analyzer\\", label: \\"Analyze\\", icon: \\"\\\\u{1F50D}\\", color: \\"#68a8ef\\" },\\n  { key: \\"phase_1_context_gatherer\\", label: \\"Gather\\", icon: \\"\\\\u{1F4DA}\\", color: \\"#ffa500\\" },\\n  { key: \\"phase_2_reflection\\", label: \\"Reflect\\", icon: \\"\\\\u{1F914}\\", color: \\"#c792ea\\" },\\n  { key: \\"phase_3_planner\\", label: \\"Plan\\", icon: \\"\\\\u{1F4CB}\\", color: \\"#ef9b6b\\" },\\n  { key: \\"phase_4_executor\\", label: \\"Execute\\", icon: \\"\\\\u26A1\\", color: \\"#ef6b9b\\" },\\n  { key: \\"phase_5_coordinator\\", label: \\"Coordinate\\", icon: \\"\\\\u{1F527}\\", color: \\"#6befa8\\" },\\n  { key: \\"phase_6_synthesis\\", label: \\"Synthesize\\", icon: \\"\\\\u270D\\\\uFE0F\\", color: \\"#a8ef6b\\" },\\n  { key: \\"phase_7_validation\\", label: \\"Validate\\", icon: \\"\\\\u2713\\", color: \\"#6b9bef\\" }\\n];\\nlet expanded = false;\\nlet expandedPhase = null;\\nlet activeTabs = {};\\n$: phases = phaseDefinitions.map((def) => {\\n  const data = $thinking.phases[def.key];\\n  return {\\n    ...def,\\n    status: data?.status || \\"pending\\",\\n    content: data?.content || \\"\\",\\n    reasoning: data?.reasoning || \\"\\",\\n    input: data?.input || \\"\\",\\n    output: data?.output || \\"\\",\\n    hasData: !!(data?.input || data?.output || data?.content)\\n  };\\n});\\n$: completedCount = phases.filter((p) => p.status === \\"completed\\").length;\\n$: activePhase = phases.find((p) => p.status === \\"active\\");\\nfunction toggleExpanded() {\\n  expanded = !expanded;\\n}\\nfunction togglePhaseContent(key) {\\n  if (expandedPhase === key) {\\n    expandedPhase = null;\\n  } else {\\n    expandedPhase = key;\\n    if (!activeTabs[key]) {\\n      activeTabs[key] = \\"output\\";\\n    }\\n  }\\n}\\nfunction setActiveTab(key, tab) {\\n  activeTabs[key] = tab;\\n  activeTabs = activeTabs;\\n}\\n$: showPanel = $thinking.active || $thinking.completed;\\n$: hasActions = $actions.actions.length > 0;\\n<\/script>\\n\\n{#if showPanel}\\n  <div class=\\"thinking-panel\\" class:completed={$thinking.completed && !$thinking.active}>\\n    <header on:click={toggleExpanded}>\\n      <div class=\\"left\\">\\n        {#if $thinking.active}\\n          <Spinner size={12} />\\n          <strong>THINKING</strong>\\n          <span class=\\"status\\">{activePhase ? activePhase.label : 'Starting...'}</span>\\n        {:else}\\n          <span class=\\"check-icon\\">&#10003;</span>\\n          <strong>COMPLETED</strong>\\n          <span class=\\"phase-count\\">{completedCount}/{phaseDefinitions.length} phases</span>\\n        {/if}\\n      </div>\\n      <button class=\\"toggle\\" title={expanded ? 'Collapse' : 'Expand to see phase details'}>\\n        {expanded ? '‚ñ≤' : '‚ñº'}\\n      </button>\\n    </header>\\n\\n    {#if expanded}\\n      <div class=\\"phases\\">\\n        {#each phases as phase (phase.key)}\\n          <div\\n            class=\\"phase\\"\\n            class:active={phase.status === 'active'}\\n            class:completed={phase.status === 'completed'}\\n            class:has-content={phase.hasData}\\n            style=\\"--phase-color: {phase.color}\\"\\n          >\\n            <button\\n              class=\\"phase-header\\"\\n              on:click={() => phase.hasData && togglePhaseContent(phase.key)}\\n              disabled={!phase.hasData}\\n            >\\n              <span class=\\"icon\\">{phase.icon}</span>\\n              <span class=\\"label\\">{phase.label}</span>\\n              <span class=\\"badge\\"\\n                class:active={phase.status === 'active'}\\n                class:completed={phase.status === 'completed'}>\\n                {phase.status}\\n              </span>\\n              {#if phase.hasData}\\n                <span class=\\"expand-icon\\">{expandedPhase === phase.key ? '‚ñº' : '‚ñ∂'}</span>\\n              {/if}\\n            </button>\\n\\n            {#if expandedPhase === phase.key && phase.hasData}\\n              <div class=\\"phase-content\\">\\n                <!-- Tab buttons -->\\n                <div class=\\"tabs\\">\\n                  <button\\n                    class=\\"tab\\"\\n                    class:active={activeTabs[phase.key] === 'input'}\\n                    on:click|stopPropagation={() => setActiveTab(phase.key, 'input')}\\n                    disabled={!phase.input}\\n                  >\\n                    <span class=\\"tab-icon\\">‚Üí</span> INPUT\\n                    <span class=\\"tab-hint\\">What I received</span>\\n                  </button>\\n                  <button\\n                    class=\\"tab\\"\\n                    class:active={activeTabs[phase.key] === 'output'}\\n                    on:click|stopPropagation={() => setActiveTab(phase.key, 'output')}\\n                    disabled={!phase.output && !phase.content}\\n                  >\\n                    <span class=\\"tab-icon\\">‚Üê</span> OUTPUT\\n                    <span class=\\"tab-hint\\">What I produced</span>\\n                  </button>\\n                </div>\\n\\n                <!-- Content area -->\\n                <div class=\\"content-area\\">\\n                  {#if activeTabs[phase.key] === 'input'}\\n                    {#if phase.input}\\n                      <pre>{phase.input}</pre>\\n                    {:else}\\n                      <div class=\\"no-content\\">No input data captured</div>\\n                    {/if}\\n                  {:else}\\n                    {#if phase.output}\\n                      <pre>{phase.output}</pre>\\n                    {:else if phase.content}\\n                      <pre>{phase.content}</pre>\\n                    {:else}\\n                      <div class=\\"no-content\\">No output data captured</div>\\n                    {/if}\\n                  {/if}\\n                </div>\\n              </div>\\n            {/if}\\n          </div>\\n        {/each}\\n      </div>\\n\\n      <!-- Journey section (actions log) - only shown when panel is expanded -->\\n      {#if hasActions}\\n        <div class=\\"journey-section\\">\\n          <div class=\\"journey-header\\">\\n            <span class=\\"journey-title\\">üõ§Ô∏è Journey</span>\\n            <span class=\\"journey-count\\">{$actions.actions.length} steps</span>\\n          </div>\\n          <div class=\\"journey-actions\\">\\n            {#each $actions.actions as action (action.id)}\\n              <div class=\\"journey-action\\" class:error={action.type === 'error'} class:success={action.success === true}>\\n                <span class=\\"action-icon\\">{action.icon}</span>\\n                <div class=\\"action-content\\">\\n                  <span class=\\"action-label\\">{action.label}</span>\\n                  {#if action.detail}\\n                    <span class=\\"action-detail\\">{action.detail}</span>\\n                  {/if}\\n                </div>\\n                {#if action.success === false}\\n                  <span class=\\"action-status error\\">‚úó</span>\\n                {:else if action.success === true}\\n                  <span class=\\"action-status success\\">‚úì</span>\\n                {/if}\\n              </div>\\n            {/each}\\n          </div>\\n        </div>\\n      {/if}\\n    {/if}\\n  </div>\\n{/if}\\n\\n<style>\\n  .thinking-panel {\\n    background: #1a1a22;\\n    border: 1px solid #2a2a33;\\n    border-radius: 8px;\\n    margin: 8px;\\n    max-height: 60vh;\\n    overflow-y: auto;\\n  }\\n\\n  .thinking-panel.completed {\\n    border-color: #3d5a3d;\\n    background: #161a16;\\n  }\\n\\n  header {\\n    display: flex;\\n    align-items: center;\\n    justify-content: space-between;\\n    padding: 10px 14px;\\n    background: #22222a;\\n    cursor: pointer;\\n    border-radius: 7px 7px 0 0;\\n  }\\n\\n  .thinking-panel.completed header {\\n    background: #1a2a1a;\\n  }\\n\\n  .left {\\n    display: flex;\\n    align-items: center;\\n    gap: 10px;\\n  }\\n\\n  strong {\\n    color: #ececf1;\\n    font-size: 0.85em;\\n    letter-spacing: 0.05em;\\n  }\\n\\n  .status {\\n    color: #9aa3c2;\\n    font-size: 0.8em;\\n  }\\n\\n  .check-icon {\\n    font-size: 1em;\\n    color: #7fd288;\\n  }\\n\\n  .phase-count {\\n    color: #7fd288;\\n    font-size: 0.8em;\\n  }\\n\\n  .toggle {\\n    background: transparent;\\n    border: none;\\n    color: #68a8ef;\\n    font-size: 0.9em;\\n    cursor: pointer;\\n    padding: 4px 8px;\\n  }\\n\\n  .toggle:hover {\\n    color: #8dc8ff;\\n  }\\n\\n  .phases {\\n    padding: 12px;\\n    display: flex;\\n    flex-direction: column;\\n    gap: 8px;\\n  }\\n\\n  .phase {\\n    background: #101014;\\n    border-left: 3px solid var(--phase-color, #68a8ef);\\n    border-radius: 6px;\\n    padding: 8px 12px;\\n    opacity: 0.4;\\n    transition: opacity 0.2s, background 0.2s;\\n  }\\n\\n  .phase.active, .phase.completed {\\n    opacity: 1;\\n  }\\n\\n  .phase.has-content:hover {\\n    background: #14141a;\\n  }\\n\\n  .phase-header {\\n    display: flex;\\n    align-items: center;\\n    gap: 8px;\\n    width: 100%;\\n    background: transparent;\\n    border: none;\\n    padding: 0;\\n    cursor: pointer;\\n    text-align: left;\\n    color: inherit;\\n  }\\n\\n  .phase-header:disabled {\\n    cursor: default;\\n  }\\n\\n  .icon {\\n    font-size: 1em;\\n  }\\n\\n  .label {\\n    color: #ececf1;\\n    font-size: 0.85em;\\n    font-weight: 500;\\n    flex: 1;\\n  }\\n\\n  .badge {\\n    font-size: 0.7em;\\n    padding: 2px 6px;\\n    background: #2a2a33;\\n    border-radius: 4px;\\n    color: #9aa3c2;\\n    text-transform: uppercase;\\n  }\\n\\n  .badge.active {\\n    background: var(--phase-color, #68a8ef);\\n    color: #fff;\\n  }\\n\\n  .badge.completed {\\n    background: #7fd288;\\n    color: #000;\\n  }\\n\\n  .expand-icon {\\n    color: #68a8ef;\\n    font-size: 0.7em;\\n    margin-left: 4px;\\n  }\\n\\n  .phase-content {\\n    margin-top: 10px;\\n    background: #0a0a0e;\\n    border-radius: 6px;\\n    overflow: hidden;\\n  }\\n\\n  /* Tabs */\\n  .tabs {\\n    display: flex;\\n    border-bottom: 1px solid #2a2a33;\\n  }\\n\\n  .tab {\\n    flex: 1;\\n    padding: 8px 12px;\\n    background: transparent;\\n    border: none;\\n    color: #6b7280;\\n    font-size: 0.75em;\\n    font-weight: 500;\\n    cursor: pointer;\\n    display: flex;\\n    align-items: center;\\n    justify-content: center;\\n    gap: 6px;\\n    transition: all 0.2s;\\n  }\\n\\n  .tab:hover:not(:disabled) {\\n    background: #14141a;\\n    color: #9aa3c2;\\n  }\\n\\n  .tab.active {\\n    background: #1a1a22;\\n    color: #ececf1;\\n    border-bottom: 2px solid var(--phase-color, #68a8ef);\\n  }\\n\\n  .tab:disabled {\\n    cursor: not-allowed;\\n    opacity: 0.4;\\n  }\\n\\n  .tab-icon {\\n    font-size: 1.1em;\\n  }\\n\\n  .tab-hint {\\n    font-size: 0.85em;\\n    opacity: 0.7;\\n  }\\n\\n  /* Content area */\\n  .content-area {\\n    max-height: 300px;\\n    overflow-y: auto;\\n  }\\n\\n  .content-area pre {\\n    margin: 0;\\n    padding: 12px;\\n    font-size: 0.75em;\\n    line-height: 1.5;\\n    color: #c8d0e8;\\n    white-space: pre-wrap;\\n    word-wrap: break-word;\\n    font-family: 'SF Mono', 'Fira Code', 'Consolas', monospace;\\n  }\\n\\n  .no-content {\\n    padding: 20px;\\n    text-align: center;\\n    color: #6b7280;\\n    font-size: 0.8em;\\n    font-style: italic;\\n  }\\n\\n  /* Journey section styles */\\n  .journey-section {\\n    margin: 12px;\\n    margin-top: 4px;\\n    background: #12121a;\\n    border: 1px solid #2a2a33;\\n    border-radius: 6px;\\n    overflow: hidden;\\n  }\\n\\n  .journey-header {\\n    display: flex;\\n    justify-content: space-between;\\n    align-items: center;\\n    padding: 8px 12px;\\n    background: #1a1a22;\\n    border-bottom: 1px solid #2a2a33;\\n  }\\n\\n  .journey-title {\\n    font-size: 0.75em;\\n    font-weight: 600;\\n    color: #9aa3c2;\\n    text-transform: uppercase;\\n    letter-spacing: 0.05em;\\n  }\\n\\n  .journey-count {\\n    font-size: 0.7em;\\n    color: #6b7280;\\n  }\\n\\n  .journey-actions {\\n    padding: 8px;\\n    display: flex;\\n    flex-direction: column;\\n    gap: 4px;\\n    max-height: 150px;\\n    overflow-y: auto;\\n  }\\n\\n  .journey-action {\\n    display: flex;\\n    align-items: flex-start;\\n    gap: 8px;\\n    padding: 6px 8px;\\n    background: #0a0a0e;\\n    border-radius: 4px;\\n    border-left: 2px solid #3a3a44;\\n    transition: border-color 0.2s;\\n  }\\n\\n  .journey-action.success {\\n    border-left-color: #7fd288;\\n  }\\n\\n  .journey-action.error {\\n    border-left-color: #ef6b6b;\\n    background: #1a0a0a;\\n  }\\n\\n  .action-icon {\\n    font-size: 0.85em;\\n    flex-shrink: 0;\\n    margin-top: 1px;\\n  }\\n\\n  .action-content {\\n    flex: 1;\\n    min-width: 0;\\n    display: flex;\\n    flex-direction: column;\\n    gap: 2px;\\n  }\\n\\n  .action-label {\\n    font-size: 0.75em;\\n    color: #ececf1;\\n    font-weight: 500;\\n  }\\n\\n  .action-detail {\\n    font-size: 0.65em;\\n    color: #6b7280;\\n    white-space: nowrap;\\n    overflow: hidden;\\n    text-overflow: ellipsis;\\n  }\\n\\n  .action-status {\\n    font-size: 0.7em;\\n    flex-shrink: 0;\\n  }\\n\\n  .action-status.success {\\n    color: #7fd288;\\n  }\\n\\n  .action-status.error {\\n    color: #ef6b6b;\\n  }\\n</style>\\n"],"names":[],"mappings":"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"}`
};
const ThinkingPanel = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  let phases;
  let completedCount;
  let activePhase;
  let showPanel;
  let $actions, $$unsubscribe_actions;
  let $thinking, $$unsubscribe_thinking;
  $$unsubscribe_actions = subscribe(actions, (value) => $actions = value);
  $$unsubscribe_thinking = subscribe(thinking, (value) => $thinking = value);
  const phaseDefinitions = [
    {
      key: "phase_0_query_analyzer",
      label: "Analyze",
      icon: "üîç",
      color: "#68a8ef"
    },
    {
      key: "phase_1_context_gatherer",
      label: "Gather",
      icon: "üìö",
      color: "#ffa500"
    },
    {
      key: "phase_2_reflection",
      label: "Reflect",
      icon: "ü§î",
      color: "#c792ea"
    },
    {
      key: "phase_3_planner",
      label: "Plan",
      icon: "üìã",
      color: "#ef9b6b"
    },
    {
      key: "phase_4_executor",
      label: "Execute",
      icon: "‚ö°",
      color: "#ef6b9b"
    },
    {
      key: "phase_5_coordinator",
      label: "Coordinate",
      icon: "üîß",
      color: "#6befa8"
    },
    {
      key: "phase_6_synthesis",
      label: "Synthesize",
      icon: "‚úçÔ∏è",
      color: "#a8ef6b"
    },
    {
      key: "phase_7_validation",
      label: "Validate",
      icon: "‚úì",
      color: "#6b9bef"
    }
  ];
  $$result.css.add(css$f);
  phases = phaseDefinitions.map((def) => {
    const data = $thinking.phases[def.key];
    return {
      ...def,
      status: data?.status || "pending",
      content: data?.content || "",
      reasoning: data?.reasoning || "",
      input: data?.input || "",
      output: data?.output || "",
      hasData: !!(data?.input || data?.output || data?.content)
    };
  });
  completedCount = phases.filter((p) => p.status === "completed").length;
  activePhase = phases.find((p) => p.status === "active");
  showPanel = $thinking.active || $thinking.completed;
  $actions.actions.length > 0;
  $$unsubscribe_actions();
  $$unsubscribe_thinking();
  return `${showPanel ? `<div class="${[
    "thinking-panel svelte-1ji6ouo",
    $thinking.completed && !$thinking.active ? "completed" : ""
  ].join(" ").trim()}"><header class="svelte-1ji6ouo"><div class="left svelte-1ji6ouo">${$thinking.active ? `${validate_component(Spinner, "Spinner").$$render($$result, { size: 12 }, {}, {})} <strong class="svelte-1ji6ouo" data-svelte-h="svelte-meuu7k">THINKING</strong> <span class="status svelte-1ji6ouo">${escape(activePhase ? activePhase.label : "Starting...")}</span>` : `<span class="check-icon svelte-1ji6ouo" data-svelte-h="svelte-7fv8sn">‚úì</span> <strong class="svelte-1ji6ouo" data-svelte-h="svelte-f5bqmh">COMPLETED</strong> <span class="phase-count svelte-1ji6ouo">${escape(completedCount)}/${escape(phaseDefinitions.length)} phases</span>`}</div> <button class="toggle svelte-1ji6ouo"${add_attribute("title", "Expand to see phase details", 0)}>${escape("‚ñº")}</button></header> ${``}</div>` : ``}`;
});
const css$e = {
  code: ".chat-container.svelte-1tn9vvr{display:flex;flex-direction:column;flex:1;min-height:0;background:#17171c;border-radius:12px;overflow:hidden}.chat-window.svelte-1tn9vvr{flex:1;overflow-y:auto;padding:20px;display:flex;flex-direction:column;gap:16px}.empty-state.svelte-1tn9vvr{flex:1;display:flex;align-items:center;justify-content:center;color:#9aa3c2}.input-area.svelte-1tn9vvr{border-top:1px solid #22222a}.actions.svelte-1tn9vvr{display:flex;justify-content:flex-end;padding:0 12px 12px;gap:8px}.clear-btn.svelte-1tn9vvr{background:transparent;border:1px solid #2a2a33;color:#9aa3c2;padding:6px 12px;border-radius:6px;cursor:pointer;font-size:0.85em}.clear-btn.svelte-1tn9vvr:hover{background:#2a2a33;color:#ececf1}",
  map: `{"version":3,"file":"Chat.svelte","sources":["Chat.svelte"],"sourcesContent":["<script lang=\\"ts\\">import { onMount, afterUpdate } from \\"svelte\\";\\nimport { messages, isLoading, clearMessages } from \\"$lib/stores/chat\\";\\nimport { sendMessage } from \\"$lib/api/client\\";\\nimport UserMessage from \\"./Messages/UserMessage.svelte\\";\\nimport ResponseMessage from \\"./Messages/ResponseMessage.svelte\\";\\nimport MessageInput from \\"./MessageInput.svelte\\";\\nimport ThinkingPanel from \\"$lib/components/pandora/ThinkingPanel.svelte\\";\\nlet chatWindowEl;\\nonMount(() => {\\n  if (chatWindowEl) {\\n    chatWindowEl.scrollTop = chatWindowEl.scrollHeight;\\n  }\\n});\\nafterUpdate(() => {\\n  if (chatWindowEl) {\\n    chatWindowEl.scrollTop = chatWindowEl.scrollHeight;\\n  }\\n});\\nfunction handleSubmit(e) {\\n  const history = $messages.map((m) => ({\\n    role: m.role,\\n    content: m.content\\n  }));\\n  sendMessage(e.detail, history);\\n}\\nfunction handleClear() {\\n  if (confirm(\\"Start a new conversation? This will clear the current chat.\\")) {\\n    clearMessages();\\n  }\\n}\\n<\/script>\\n\\n<div class=\\"chat-container\\">\\n  <!-- Thinking panel at top, outside scroll area, always visible when active -->\\n  <ThinkingPanel />\\n\\n  <div class=\\"chat-window\\" bind:this={chatWindowEl}>\\n    {#if $messages.length === 0}\\n      <div class=\\"empty-state\\">\\n        <p>Start a conversation...</p>\\n      </div>\\n    {:else}\\n      {#each $messages as message (message.id)}\\n        {#if message.role === 'user'}\\n          <UserMessage content={message.content} timestamp={message.timestamp} />\\n        {:else}\\n          <ResponseMessage\\n            content={message.content}\\n            timestamp={message.timestamp}\\n            isLoading={$isLoading && message === $messages[$messages.length - 1]}\\n          />\\n        {/if}\\n      {/each}\\n    {/if}\\n  </div>\\n\\n  <div class=\\"input-area\\">\\n    <MessageInput on:submit={handleSubmit} />\\n    <div class=\\"actions\\">\\n      <button class=\\"clear-btn\\" on:click={handleClear} title=\\"New conversation\\">\\n        üóëÔ∏è New\\n      </button>\\n    </div>\\n  </div>\\n</div>\\n\\n<style>\\n  .chat-container {\\n    display: flex;\\n    flex-direction: column;\\n    flex: 1;\\n    min-height: 0;\\n    background: #17171c;\\n    border-radius: 12px;\\n    overflow: hidden;\\n  }\\n\\n  .chat-window {\\n    flex: 1;\\n    overflow-y: auto;\\n    padding: 20px;\\n    display: flex;\\n    flex-direction: column;\\n    gap: 16px;\\n  }\\n\\n  .empty-state {\\n    flex: 1;\\n    display: flex;\\n    align-items: center;\\n    justify-content: center;\\n    color: #9aa3c2;\\n  }\\n\\n  .input-area {\\n    border-top: 1px solid #22222a;\\n  }\\n\\n  .actions {\\n    display: flex;\\n    justify-content: flex-end;\\n    padding: 0 12px 12px;\\n    gap: 8px;\\n  }\\n\\n  .clear-btn {\\n    background: transparent;\\n    border: 1px solid #2a2a33;\\n    color: #9aa3c2;\\n    padding: 6px 12px;\\n    border-radius: 6px;\\n    cursor: pointer;\\n    font-size: 0.85em;\\n  }\\n\\n  .clear-btn:hover {\\n    background: #2a2a33;\\n    color: #ececf1;\\n  }\\n</style>\\n"],"names":[],"mappings":"AAmEE,8BAAgB,CACd,OAAO,CAAE,IAAI,CACb,cAAc,CAAE,MAAM,CACtB,IAAI,CAAE,CAAC,CACP,UAAU,CAAE,CAAC,CACb,UAAU,CAAE,OAAO,CACnB,aAAa,CAAE,IAAI,CACnB,QAAQ,CAAE,MACZ,CAEA,2BAAa,CACX,IAAI,CAAE,CAAC,CACP,UAAU,CAAE,IAAI,CAChB,OAAO,CAAE,IAAI,CACb,OAAO,CAAE,IAAI,CACb,cAAc,CAAE,MAAM,CACtB,GAAG,CAAE,IACP,CAEA,2BAAa,CACX,IAAI,CAAE,CAAC,CACP,OAAO,CAAE,IAAI,CACb,WAAW,CAAE,MAAM,CACnB,eAAe,CAAE,MAAM,CACvB,KAAK,CAAE,OACT,CAEA,0BAAY,CACV,UAAU,CAAE,GAAG,CAAC,KAAK,CAAC,OACxB,CAEA,uBAAS,CACP,OAAO,CAAE,IAAI,CACb,eAAe,CAAE,QAAQ,CACzB,OAAO,CAAE,CAAC,CAAC,IAAI,CAAC,IAAI,CACpB,GAAG,CAAE,GACP,CAEA,yBAAW,CACT,UAAU,CAAE,WAAW,CACvB,MAAM,CAAE,GAAG,CAAC,KAAK,CAAC,OAAO,CACzB,KAAK,CAAE,OAAO,CACd,OAAO,CAAE,GAAG,CAAC,IAAI,CACjB,aAAa,CAAE,GAAG,CAClB,MAAM,CAAE,OAAO,CACf,SAAS,CAAE,MACb,CAEA,yBAAU,MAAO,CACf,UAAU,CAAE,OAAO,CACnB,KAAK,CAAE,OACT"}`
};
const Chat = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  let $messages, $$unsubscribe_messages;
  let $isLoading, $$unsubscribe_isLoading;
  $$unsubscribe_messages = subscribe(messages, (value) => $messages = value);
  $$unsubscribe_isLoading = subscribe(isLoading, (value) => $isLoading = value);
  let chatWindowEl;
  $$result.css.add(css$e);
  $$unsubscribe_messages();
  $$unsubscribe_isLoading();
  return `<div class="chat-container svelte-1tn9vvr"> ${validate_component(ThinkingPanel, "ThinkingPanel").$$render($$result, {}, {}, {})} <div class="chat-window svelte-1tn9vvr"${add_attribute("this", chatWindowEl, 0)}>${$messages.length === 0 ? `<div class="empty-state svelte-1tn9vvr" data-svelte-h="svelte-18wrr8z"><p>Start a conversation...</p></div>` : `${each($messages, (message) => {
    return `${message.role === "user" ? `${validate_component(UserMessage, "UserMessage").$$render(
      $$result,
      {
        content: message.content,
        timestamp: message.timestamp
      },
      {},
      {}
    )}` : `${validate_component(ResponseMessage, "ResponseMessage").$$render(
      $$result,
      {
        content: message.content,
        timestamp: message.timestamp,
        isLoading: $isLoading && message === $messages[$messages.length - 1]
      },
      {},
      {}
    )}`}`;
  })}`}</div> <div class="input-area svelte-1tn9vvr">${validate_component(MessageInput, "MessageInput").$$render($$result, {}, {}, {})} <div class="actions svelte-1tn9vvr"><button class="clear-btn svelte-1tn9vvr" title="New conversation" data-svelte-h="svelte-o3av97">üóëÔ∏è New</button></div></div> </div>`;
});
const initialState = {
  selectedFile: null,
  openTabs: [],
  fileContent: null,
  fileLoading: false,
  fileError: null
};
const editorStore = writable(initialState);
const selectedFile = derived(editorStore, ($s) => $s.selectedFile);
const openTabs = derived(editorStore, ($s) => $s.openTabs);
const fileContent = derived(editorStore, ($s) => $s.fileContent);
const fileLoading = derived(editorStore, ($s) => $s.fileLoading);
const fileError = derived(editorStore, ($s) => $s.fileError);
repoRoot.subscribe(() => {
  editorStore.set(initialState);
});
const css$d = {
  code: ".file-tree.svelte-19drl7s{padding:8px;font-size:0.9em;color:#cfd3e9}.loading.svelte-19drl7s,.error.svelte-19drl7s,.empty.svelte-19drl7s{padding:16px;text-align:center;color:#9aa3c2;font-size:0.85em}.error.svelte-19drl7s{color:#ff6b6b}.tree-root.svelte-19drl7s,.tree-children.svelte-19drl7s{list-style:none;margin:0;padding:0}.tree-children.svelte-19drl7s{padding-left:16px}.tree-node.svelte-19drl7s{margin:1px 0}.node-toggle.svelte-19drl7s,.node-file.svelte-19drl7s{display:flex;align-items:center;gap:6px;width:100%;padding:4px 8px;background:transparent;border:none;border-radius:4px;color:#cfd3e9;cursor:pointer;text-align:left;font-size:inherit;transition:background 0.15s}.node-toggle.svelte-19drl7s:hover,.node-file.svelte-19drl7s:hover{background:#2a2a33}.node-file.selected.svelte-19drl7s{background:#3a3a53;color:#fff}.toggle-icon.svelte-19drl7s{font-size:0.7em;width:12px;color:#9aa3c2}.folder-icon.svelte-19drl7s,.file-icon.svelte-19drl7s{font-size:1em}.node-name.svelte-19drl7s{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}",
  map: '{"version":3,"file":"FileTree.svelte","sources":["FileTree.svelte"],"sourcesContent":["<script lang=\\"ts\\">import { repoRoot } from \\"$lib/stores/mode\\";\\nimport { selectedFile, openFile } from \\"$lib/stores/editor\\";\\nimport { onMount } from \\"svelte\\";\\nlet treeData = [];\\nlet expandedFolders = /* @__PURE__ */ new Set();\\nlet loading = false;\\nlet error = null;\\nasync function loadFileTree() {\\n  if (!$repoRoot) {\\n    treeData = [];\\n    return;\\n  }\\n  loading = true;\\n  error = null;\\n  try {\\n    const response = await fetch(`/ui/filetree?repo=${encodeURIComponent($repoRoot)}`);\\n    if (!response.ok) {\\n      const errorData = await response.json().catch(() => ({}));\\n      if (response.status === 403) {\\n        throw new Error(`Access denied: ${errorData.detail || \\"Repo path not allowed. Check REPOS_BASE config.\\"}`);\\n      } else if (response.status === 404) {\\n        throw new Error(`Path not found: ${$repoRoot}`);\\n      }\\n      throw new Error(errorData.detail || `Failed to load file tree: ${response.statusText}`);\\n    }\\n    const data = await response.json();\\n    treeData = data.tree || [];\\n    console.log(\\"[FileTree] Loaded\\", treeData.length, \\"items from\\", $repoRoot);\\n  } catch (e) {\\n    error = e instanceof Error ? e.message : \\"Failed to load file tree\\";\\n    treeData = [];\\n    console.error(\\"[FileTree] Error:\\", error);\\n  } finally {\\n    loading = false;\\n  }\\n}\\nfunction toggleFolder(nodeId) {\\n  if (expandedFolders.has(nodeId)) {\\n    expandedFolders.delete(nodeId);\\n  } else {\\n    expandedFolders.add(nodeId);\\n  }\\n  expandedFolders = expandedFolders;\\n}\\nfunction handleFileClick(node) {\\n  if (node.type === \\"file\\" && node.path) {\\n    openFile(node.path);\\n  }\\n}\\nfunction getFileIcon(filename) {\\n  const ext = filename.split(\\".\\").pop()?.toLowerCase();\\n  const icons = {\\n    ts: \\"\\\\u{1F4D8}\\",\\n    js: \\"\\\\u{1F4D2}\\",\\n    svelte: \\"\\\\u{1F9E1}\\",\\n    py: \\"\\\\u{1F40D}\\",\\n    md: \\"\\\\u{1F4DD}\\",\\n    json: \\"\\\\u{1F4CB}\\",\\n    html: \\"\\\\u{1F310}\\",\\n    css: \\"\\\\u{1F3A8}\\",\\n    yml: \\"\\\\u2699\\\\uFE0F\\",\\n    yaml: \\"\\\\u2699\\\\uFE0F\\",\\n    sh: \\"\\\\u{1F4BB}\\",\\n    sql: \\"\\\\u{1F5C3}\\\\uFE0F\\"\\n  };\\n  return icons[ext || \\"\\"] || \\"\\\\u{1F4C4}\\";\\n}\\n$: if ($repoRoot) {\\n  loadFileTree();\\n}\\nonMount(() => {\\n  if ($repoRoot) {\\n    loadFileTree();\\n  }\\n});\\nexport function refresh() {\\n  loadFileTree();\\n}\\n<\/script>\\n\\n<div class=\\"file-tree\\">\\n  {#if loading}\\n    <div class=\\"loading\\">Loading...</div>\\n  {:else if error}\\n    <div class=\\"error\\">{error}</div>\\n  {:else if treeData.length === 0}\\n    <div class=\\"empty\\">\\n      {#if $repoRoot}\\n        No files found\\n      {:else}\\n        Set a repository path to browse files\\n      {/if}\\n    </div>\\n  {:else}\\n    <ul class=\\"tree-root\\">\\n      {#each treeData as node (node.id)}\\n        <li class=\\"tree-node\\">\\n          {#if node.type === \'folder\'}\\n            <button\\n              class=\\"node-toggle\\"\\n              class:expanded={expandedFolders.has(node.id)}\\n              on:click={() => toggleFolder(node.id)}\\n            >\\n              <span class=\\"toggle-icon\\">{expandedFolders.has(node.id) ? \'‚ñº\' : \'‚ñ∂\'}</span>\\n              <span class=\\"folder-icon\\">üìÅ</span>\\n              <span class=\\"node-name\\">{node.text}</span>\\n            </button>\\n            {#if expandedFolders.has(node.id) && node.children}\\n              <ul class=\\"tree-children\\">\\n                {#each node.children as child (child.id)}\\n                  <svelte:self {...child} />\\n                {/each}\\n              </ul>\\n            {/if}\\n          {:else}\\n            <button\\n              class=\\"node-file\\"\\n              class:selected={$selectedFile === node.path}\\n              on:click={() => handleFileClick(node)}\\n            >\\n              <span class=\\"file-icon\\">{getFileIcon(node.text)}</span>\\n              <span class=\\"node-name\\">{node.text}</span>\\n            </button>\\n          {/if}\\n        </li>\\n      {/each}\\n    </ul>\\n  {/if}\\n</div>\\n\\n<style>\\n  .file-tree {\\n    padding: 8px;\\n    font-size: 0.9em;\\n    color: #cfd3e9;\\n  }\\n\\n  .loading,\\n  .error,\\n  .empty {\\n    padding: 16px;\\n    text-align: center;\\n    color: #9aa3c2;\\n    font-size: 0.85em;\\n  }\\n\\n  .error {\\n    color: #ff6b6b;\\n  }\\n\\n  .tree-root,\\n  .tree-children {\\n    list-style: none;\\n    margin: 0;\\n    padding: 0;\\n  }\\n\\n  .tree-children {\\n    padding-left: 16px;\\n  }\\n\\n  .tree-node {\\n    margin: 1px 0;\\n  }\\n\\n  .node-toggle,\\n  .node-file {\\n    display: flex;\\n    align-items: center;\\n    gap: 6px;\\n    width: 100%;\\n    padding: 4px 8px;\\n    background: transparent;\\n    border: none;\\n    border-radius: 4px;\\n    color: #cfd3e9;\\n    cursor: pointer;\\n    text-align: left;\\n    font-size: inherit;\\n    transition: background 0.15s;\\n  }\\n\\n  .node-toggle:hover,\\n  .node-file:hover {\\n    background: #2a2a33;\\n  }\\n\\n  .node-file.selected {\\n    background: #3a3a53;\\n    color: #fff;\\n  }\\n\\n  .toggle-icon {\\n    font-size: 0.7em;\\n    width: 12px;\\n    color: #9aa3c2;\\n  }\\n\\n  .folder-icon,\\n  .file-icon {\\n    font-size: 1em;\\n  }\\n\\n  .node-name {\\n    overflow: hidden;\\n    text-overflow: ellipsis;\\n    white-space: nowrap;\\n  }\\n</style>\\n"],"names":[],"mappings":"AAmIE,yBAAW,CACT,OAAO,CAAE,GAAG,CACZ,SAAS,CAAE,KAAK,CAChB,KAAK,CAAE,OACT,CAEA,uBAAQ,CACR,qBAAM,CACN,qBAAO,CACL,OAAO,CAAE,IAAI,CACb,UAAU,CAAE,MAAM,CAClB,KAAK,CAAE,OAAO,CACd,SAAS,CAAE,MACb,CAEA,qBAAO,CACL,KAAK,CAAE,OACT,CAEA,yBAAU,CACV,6BAAe,CACb,UAAU,CAAE,IAAI,CAChB,MAAM,CAAE,CAAC,CACT,OAAO,CAAE,CACX,CAEA,6BAAe,CACb,YAAY,CAAE,IAChB,CAEA,yBAAW,CACT,MAAM,CAAE,GAAG,CAAC,CACd,CAEA,2BAAY,CACZ,yBAAW,CACT,OAAO,CAAE,IAAI,CACb,WAAW,CAAE,MAAM,CACnB,GAAG,CAAE,GAAG,CACR,KAAK,CAAE,IAAI,CACX,OAAO,CAAE,GAAG,CAAC,GAAG,CAChB,UAAU,CAAE,WAAW,CACvB,MAAM,CAAE,IAAI,CACZ,aAAa,CAAE,GAAG,CAClB,KAAK,CAAE,OAAO,CACd,MAAM,CAAE,OAAO,CACf,UAAU,CAAE,IAAI,CAChB,SAAS,CAAE,OAAO,CAClB,UAAU,CAAE,UAAU,CAAC,KACzB,CAEA,2BAAY,MAAM,CAClB,yBAAU,MAAO,CACf,UAAU,CAAE,OACd,CAEA,UAAU,wBAAU,CAClB,UAAU,CAAE,OAAO,CACnB,KAAK,CAAE,IACT,CAEA,2BAAa,CACX,SAAS,CAAE,KAAK,CAChB,KAAK,CAAE,IAAI,CACX,KAAK,CAAE,OACT,CAEA,2BAAY,CACZ,yBAAW,CACT,SAAS,CAAE,GACb,CAEA,yBAAW,CACT,QAAQ,CAAE,MAAM,CAChB,aAAa,CAAE,QAAQ,CACvB,WAAW,CAAE,MACf"}'
};
function getFileIcon(filename) {
  const ext = filename.split(".").pop()?.toLowerCase();
  const icons = {
    ts: "üìò",
    js: "üìí",
    svelte: "üß°",
    py: "üêç",
    md: "üìù",
    json: "üìã",
    html: "üåê",
    css: "üé®",
    yml: "‚öôÔ∏è",
    yaml: "‚öôÔ∏è",
    sh: "üíª",
    sql: "üóÉÔ∏è"
  };
  return icons[ext || ""] || "üìÑ";
}
const FileTree = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  let $repoRoot, $$unsubscribe_repoRoot;
  let $selectedFile, $$unsubscribe_selectedFile;
  $$unsubscribe_repoRoot = subscribe(repoRoot, (value) => $repoRoot = value);
  $$unsubscribe_selectedFile = subscribe(selectedFile, (value) => $selectedFile = value);
  let treeData = [];
  let expandedFolders = /* @__PURE__ */ new Set();
  let loading = false;
  let error = null;
  async function loadFileTree() {
    if (!$repoRoot) {
      treeData = [];
      return;
    }
    loading = true;
    error = null;
    try {
      const response = await fetch(`/ui/filetree?repo=${encodeURIComponent($repoRoot)}`);
      if (!response.ok) {
        const errorData = await response.json().catch(() => ({}));
        if (response.status === 403) {
          throw new Error(`Access denied: ${errorData.detail || "Repo path not allowed. Check REPOS_BASE config."}`);
        } else if (response.status === 404) {
          throw new Error(`Path not found: ${$repoRoot}`);
        }
        throw new Error(errorData.detail || `Failed to load file tree: ${response.statusText}`);
      }
      const data = await response.json();
      treeData = data.tree || [];
      console.log("[FileTree] Loaded", treeData.length, "items from", $repoRoot);
    } catch (e) {
      error = e instanceof Error ? e.message : "Failed to load file tree";
      treeData = [];
      console.error("[FileTree] Error:", error);
    } finally {
      loading = false;
    }
  }
  function refresh() {
    loadFileTree();
  }
  if ($$props.refresh === void 0 && $$bindings.refresh && refresh !== void 0) $$bindings.refresh(refresh);
  $$result.css.add(css$d);
  {
    if ($repoRoot) {
      loadFileTree();
    }
  }
  $$unsubscribe_repoRoot();
  $$unsubscribe_selectedFile();
  return `<div class="file-tree svelte-19drl7s">${loading ? `<div class="loading svelte-19drl7s" data-svelte-h="svelte-1f5y80z">Loading...</div>` : `${error ? `<div class="error svelte-19drl7s">${escape(error)}</div>` : `${treeData.length === 0 ? `<div class="empty svelte-19drl7s">${$repoRoot ? `No files found` : `Set a repository path to browse files`}</div>` : `<ul class="tree-root svelte-19drl7s">${each(treeData, (node) => {
    return `<li class="tree-node svelte-19drl7s">${node.type === "folder" ? `<button class="${[
      "node-toggle svelte-19drl7s",
      expandedFolders.has(node.id) ? "expanded" : ""
    ].join(" ").trim()}"><span class="toggle-icon svelte-19drl7s">${escape(expandedFolders.has(node.id) ? "‚ñº" : "‚ñ∂")}</span> <span class="folder-icon svelte-19drl7s" data-svelte-h="svelte-1e0quq9">üìÅ</span> <span class="node-name svelte-19drl7s">${escape(node.text)}</span></button> ${expandedFolders.has(node.id) && node.children ? `<ul class="tree-children svelte-19drl7s">${each(node.children, (child) => {
      return `${validate_component(FileTree, "svelte:self").$$render($$result, Object.assign({}, child), {}, {})}`;
    })} </ul>` : ``}` : `<button class="${[
      "node-file svelte-19drl7s",
      $selectedFile === node.path ? "selected" : ""
    ].join(" ").trim()}"><span class="file-icon svelte-19drl7s">${escape(getFileIcon(node.text))}</span> <span class="node-name svelte-19drl7s">${escape(node.text)}</span> </button>`} </li>`;
  })}</ul>`}`}`} </div>`;
});
const css$c = {
  code: ".editor-wrapper.svelte-5j1pns{position:relative;width:100%;height:100%}.monaco-container.svelte-5j1pns{width:100%;height:100%}.editor-overlay.svelte-5j1pns{position:absolute;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center;background:rgba(13, 13, 17, 0.8);z-index:10}.loading-indicator.svelte-5j1pns{color:#68a8ef;font-size:0.9em}.editor-overlay.error.svelte-5j1pns{background:rgba(30, 20, 20, 0.9)}.error-message.svelte-5j1pns{color:#ff6b6b;font-size:0.9em;padding:16px;text-align:center}",
  map: '{"version":3,"file":"Editor.svelte","sources":["Editor.svelte"],"sourcesContent":["<script lang=\\"ts\\">import { onMount, onDestroy } from \\"svelte\\";\\nimport { selectedFile, fileContent, fileLoading, fileError } from \\"$lib/stores/editor\\";\\nlet editorContainer;\\nlet monaco = null;\\nlet editor = null;\\nfunction getLanguage(filePath) {\\n  const ext = filePath.split(\\".\\").pop()?.toLowerCase();\\n  const languageMap = {\\n    ts: \\"typescript\\",\\n    tsx: \\"typescript\\",\\n    js: \\"javascript\\",\\n    jsx: \\"javascript\\",\\n    py: \\"python\\",\\n    svelte: \\"html\\",\\n    html: \\"html\\",\\n    css: \\"css\\",\\n    scss: \\"scss\\",\\n    json: \\"json\\",\\n    md: \\"markdown\\",\\n    yml: \\"yaml\\",\\n    yaml: \\"yaml\\",\\n    sh: \\"shell\\",\\n    bash: \\"shell\\",\\n    sql: \\"sql\\",\\n    go: \\"go\\",\\n    rs: \\"rust\\",\\n    c: \\"c\\",\\n    cpp: \\"cpp\\",\\n    h: \\"c\\",\\n    hpp: \\"cpp\\"\\n  };\\n  return languageMap[ext || \\"\\"] || \\"plaintext\\";\\n}\\nasync function initMonaco() {\\n  const monacoLoader = await import(\\"@monaco-editor/loader\\");\\n  monaco = await monacoLoader.default.init();\\n  editor = monaco.editor.create(editorContainer, {\\n    value: \\"// Select a file from the tree to view its contents\\",\\n    language: \\"javascript\\",\\n    theme: \\"vs-dark\\",\\n    automaticLayout: true,\\n    fontSize: 14,\\n    minimap: { enabled: true },\\n    scrollBeyondLastLine: false,\\n    readOnly: false,\\n    lineNumbers: \\"on\\",\\n    renderWhitespace: \\"selection\\",\\n    tabSize: 2,\\n    wordWrap: \\"on\\"\\n  });\\n}\\n$: if (editor && $fileContent !== null) {\\n  const language = $selectedFile ? getLanguage($selectedFile) : \\"plaintext\\";\\n  const model = editor.getModel();\\n  if (model) {\\n    monaco.editor.setModelLanguage(model, language);\\n    editor.setValue($fileContent);\\n  }\\n}\\nonMount(() => {\\n  initMonaco().catch((err) => {\\n    console.error(\\"Failed to initialize Monaco:\\", err);\\n  });\\n});\\nonDestroy(() => {\\n  if (editor) {\\n    editor.dispose();\\n  }\\n});\\n<\/script>\\n\\n<div class=\\"editor-wrapper\\">\\n  {#if $fileLoading}\\n    <div class=\\"editor-overlay\\">\\n      <div class=\\"loading-indicator\\">Loading file...</div>\\n    </div>\\n  {/if}\\n\\n  {#if $fileError}\\n    <div class=\\"editor-overlay error\\">\\n      <div class=\\"error-message\\">{$fileError}</div>\\n    </div>\\n  {/if}\\n\\n  <div class=\\"monaco-container\\" bind:this={editorContainer}></div>\\n</div>\\n\\n<style>\\n  .editor-wrapper {\\n    position: relative;\\n    width: 100%;\\n    height: 100%;\\n  }\\n\\n  .monaco-container {\\n    width: 100%;\\n    height: 100%;\\n  }\\n\\n  .editor-overlay {\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n    right: 0;\\n    bottom: 0;\\n    display: flex;\\n    align-items: center;\\n    justify-content: center;\\n    background: rgba(13, 13, 17, 0.8);\\n    z-index: 10;\\n  }\\n\\n  .loading-indicator {\\n    color: #68a8ef;\\n    font-size: 0.9em;\\n  }\\n\\n  .editor-overlay.error {\\n    background: rgba(30, 20, 20, 0.9);\\n  }\\n\\n  .error-message {\\n    color: #ff6b6b;\\n    font-size: 0.9em;\\n    padding: 16px;\\n    text-align: center;\\n  }\\n</style>\\n"],"names":[],"mappings":"AAwFE,6BAAgB,CACd,QAAQ,CAAE,QAAQ,CAClB,KAAK,CAAE,IAAI,CACX,MAAM,CAAE,IACV,CAEA,+BAAkB,CAChB,KAAK,CAAE,IAAI,CACX,MAAM,CAAE,IACV,CAEA,6BAAgB,CACd,QAAQ,CAAE,QAAQ,CAClB,GAAG,CAAE,CAAC,CACN,IAAI,CAAE,CAAC,CACP,KAAK,CAAE,CAAC,CACR,MAAM,CAAE,CAAC,CACT,OAAO,CAAE,IAAI,CACb,WAAW,CAAE,MAAM,CACnB,eAAe,CAAE,MAAM,CACvB,UAAU,CAAE,KAAK,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CACjC,OAAO,CAAE,EACX,CAEA,gCAAmB,CACjB,KAAK,CAAE,OAAO,CACd,SAAS,CAAE,KACb,CAEA,eAAe,oBAAO,CACpB,UAAU,CAAE,KAAK,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAClC,CAEA,4BAAe,CACb,KAAK,CAAE,OAAO,CACd,SAAS,CAAE,KAAK,CAChB,OAAO,CAAE,IAAI,CACb,UAAU,CAAE,MACd"}'
};
const Editor = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  let $$unsubscribe_fileContent;
  let $$unsubscribe_selectedFile;
  let $fileLoading, $$unsubscribe_fileLoading;
  let $fileError, $$unsubscribe_fileError;
  $$unsubscribe_fileContent = subscribe(fileContent, (value) => value);
  $$unsubscribe_selectedFile = subscribe(selectedFile, (value) => value);
  $$unsubscribe_fileLoading = subscribe(fileLoading, (value) => $fileLoading = value);
  $$unsubscribe_fileError = subscribe(fileError, (value) => $fileError = value);
  let editorContainer;
  onDestroy(() => {
  });
  $$result.css.add(css$c);
  $$unsubscribe_fileContent();
  $$unsubscribe_selectedFile();
  $$unsubscribe_fileLoading();
  $$unsubscribe_fileError();
  return `<div class="editor-wrapper svelte-5j1pns">${$fileLoading ? `<div class="editor-overlay svelte-5j1pns" data-svelte-h="svelte-h0gaux"><div class="loading-indicator svelte-5j1pns">Loading file...</div></div>` : ``} ${$fileError ? `<div class="editor-overlay error svelte-5j1pns"><div class="error-message svelte-5j1pns">${escape($fileError)}</div></div>` : ``} <div class="monaco-container svelte-5j1pns"${add_attribute("this", editorContainer, 0)}></div> </div>`;
});
const css$b = {
  code: ".tabs-bar.svelte-1bxrqlo{display:flex;gap:2px;padding:4px;background:#0d0d11;border-bottom:1px solid #2a2a33;overflow-x:auto;flex-shrink:0;min-height:36px;align-items:center}.no-tabs.svelte-1bxrqlo{color:#666;font-size:0.8em;padding:0 8px}.tab.svelte-1bxrqlo{display:flex;align-items:center;gap:8px;padding:6px 12px;background:#1a1a22;border:none;border-radius:4px 4px 0 0;color:#9aa3c2;cursor:pointer;font-size:0.85em;max-width:180px;transition:background 0.15s, color 0.15s}.tab.svelte-1bxrqlo:hover{background:#252530;color:#cfd3e9}.tab.active.svelte-1bxrqlo{background:#1e1e1e;color:#fff;border-bottom:2px solid #68a8ef}.tab-name.svelte-1bxrqlo{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tab-close.svelte-1bxrqlo{display:flex;align-items:center;justify-content:center;width:18px;height:18px;padding:0;background:transparent;border:none;border-radius:3px;color:#666;cursor:pointer;font-size:1.1em;line-height:1;transition:background 0.15s, color 0.15s}.tab-close.svelte-1bxrqlo:hover{background:#ff6b6b33;color:#ff6b6b}",
  map: '{"version":3,"file":"EditorTabs.svelte","sources":["EditorTabs.svelte"],"sourcesContent":["<script lang=\\"ts\\">import { openTabs, selectedFile, openFile, closeTab } from \\"$lib/stores/editor\\";\\nfunction getFileName(path) {\\n  return path.split(\\"/\\").pop() || path;\\n}\\nfunction handleTabClick(path) {\\n  openFile(path);\\n}\\nfunction handleCloseTab(event, path) {\\n  event.stopPropagation();\\n  closeTab(path);\\n}\\n<\/script>\\n\\n<div class=\\"tabs-bar\\">\\n  {#if $openTabs.length === 0}\\n    <div class=\\"no-tabs\\">No files open</div>\\n  {:else}\\n    {#each $openTabs as tabPath (tabPath)}\\n      <button\\n        class=\\"tab\\"\\n        class:active={$selectedFile === tabPath}\\n        on:click={() => handleTabClick(tabPath)}\\n        title={tabPath}\\n      >\\n        <span class=\\"tab-name\\">{getFileName(tabPath)}</span>\\n        <button\\n          class=\\"tab-close\\"\\n          on:click={(e) => handleCloseTab(e, tabPath)}\\n          title=\\"Close tab\\"\\n        >\\n          √ó\\n        </button>\\n      </button>\\n    {/each}\\n  {/if}\\n</div>\\n\\n<style>\\n  .tabs-bar {\\n    display: flex;\\n    gap: 2px;\\n    padding: 4px;\\n    background: #0d0d11;\\n    border-bottom: 1px solid #2a2a33;\\n    overflow-x: auto;\\n    flex-shrink: 0;\\n    min-height: 36px;\\n    align-items: center;\\n  }\\n\\n  .no-tabs {\\n    color: #666;\\n    font-size: 0.8em;\\n    padding: 0 8px;\\n  }\\n\\n  .tab {\\n    display: flex;\\n    align-items: center;\\n    gap: 8px;\\n    padding: 6px 12px;\\n    background: #1a1a22;\\n    border: none;\\n    border-radius: 4px 4px 0 0;\\n    color: #9aa3c2;\\n    cursor: pointer;\\n    font-size: 0.85em;\\n    max-width: 180px;\\n    transition: background 0.15s, color 0.15s;\\n  }\\n\\n  .tab:hover {\\n    background: #252530;\\n    color: #cfd3e9;\\n  }\\n\\n  .tab.active {\\n    background: #1e1e1e;\\n    color: #fff;\\n    border-bottom: 2px solid #68a8ef;\\n  }\\n\\n  .tab-name {\\n    overflow: hidden;\\n    text-overflow: ellipsis;\\n    white-space: nowrap;\\n  }\\n\\n  .tab-close {\\n    display: flex;\\n    align-items: center;\\n    justify-content: center;\\n    width: 18px;\\n    height: 18px;\\n    padding: 0;\\n    background: transparent;\\n    border: none;\\n    border-radius: 3px;\\n    color: #666;\\n    cursor: pointer;\\n    font-size: 1.1em;\\n    line-height: 1;\\n    transition: background 0.15s, color 0.15s;\\n  }\\n\\n  .tab-close:hover {\\n    background: #ff6b6b33;\\n    color: #ff6b6b;\\n  }\\n</style>\\n"],"names":[],"mappings":"AAsCE,wBAAU,CACR,OAAO,CAAE,IAAI,CACb,GAAG,CAAE,GAAG,CACR,OAAO,CAAE,GAAG,CACZ,UAAU,CAAE,OAAO,CACnB,aAAa,CAAE,GAAG,CAAC,KAAK,CAAC,OAAO,CAChC,UAAU,CAAE,IAAI,CAChB,WAAW,CAAE,CAAC,CACd,UAAU,CAAE,IAAI,CAChB,WAAW,CAAE,MACf,CAEA,uBAAS,CACP,KAAK,CAAE,IAAI,CACX,SAAS,CAAE,KAAK,CAChB,OAAO,CAAE,CAAC,CAAC,GACb,CAEA,mBAAK,CACH,OAAO,CAAE,IAAI,CACb,WAAW,CAAE,MAAM,CACnB,GAAG,CAAE,GAAG,CACR,OAAO,CAAE,GAAG,CAAC,IAAI,CACjB,UAAU,CAAE,OAAO,CACnB,MAAM,CAAE,IAAI,CACZ,aAAa,CAAE,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAC1B,KAAK,CAAE,OAAO,CACd,MAAM,CAAE,OAAO,CACf,SAAS,CAAE,MAAM,CACjB,SAAS,CAAE,KAAK,CAChB,UAAU,CAAE,UAAU,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC,KACtC,CAEA,mBAAI,MAAO,CACT,UAAU,CAAE,OAAO,CACnB,KAAK,CAAE,OACT,CAEA,IAAI,sBAAQ,CACV,UAAU,CAAE,OAAO,CACnB,KAAK,CAAE,IAAI,CACX,aAAa,CAAE,GAAG,CAAC,KAAK,CAAC,OAC3B,CAEA,wBAAU,CACR,QAAQ,CAAE,MAAM,CAChB,aAAa,CAAE,QAAQ,CACvB,WAAW,CAAE,MACf,CAEA,yBAAW,CACT,OAAO,CAAE,IAAI,CACb,WAAW,CAAE,MAAM,CACnB,eAAe,CAAE,MAAM,CACvB,KAAK,CAAE,IAAI,CACX,MAAM,CAAE,IAAI,CACZ,OAAO,CAAE,CAAC,CACV,UAAU,CAAE,WAAW,CACvB,MAAM,CAAE,IAAI,CACZ,aAAa,CAAE,GAAG,CAClB,KAAK,CAAE,IAAI,CACX,MAAM,CAAE,OAAO,CACf,SAAS,CAAE,KAAK,CAChB,WAAW,CAAE,CAAC,CACd,UAAU,CAAE,UAAU,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC,KACtC,CAEA,yBAAU,MAAO,CACf,UAAU,CAAE,SAAS,CACrB,KAAK,CAAE,OACT"}'
};
function getFileName(path) {
  return path.split("/").pop() || path;
}
const EditorTabs = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  let $openTabs, $$unsubscribe_openTabs;
  let $selectedFile, $$unsubscribe_selectedFile;
  $$unsubscribe_openTabs = subscribe(openTabs, (value) => $openTabs = value);
  $$unsubscribe_selectedFile = subscribe(selectedFile, (value) => $selectedFile = value);
  $$result.css.add(css$b);
  $$unsubscribe_openTabs();
  $$unsubscribe_selectedFile();
  return `<div class="tabs-bar svelte-1bxrqlo">${$openTabs.length === 0 ? `<div class="no-tabs svelte-1bxrqlo" data-svelte-h="svelte-ttcd4l">No files open</div>` : `${each($openTabs, (tabPath) => {
    return `<button class="${["tab svelte-1bxrqlo", $selectedFile === tabPath ? "active" : ""].join(" ").trim()}"${add_attribute("title", tabPath, 0)}><span class="tab-name svelte-1bxrqlo">${escape(getFileName(tabPath))}</span> <button class="tab-close svelte-1bxrqlo" title="Close tab" data-svelte-h="svelte-8ae3xa">√ó</button> </button>`;
  })}`} </div>`;
});
const css$a = {
  code: ".task-tracker.svelte-alk6o8{padding:12px;height:100%;overflow-y:auto}.empty.svelte-alk6o8{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;min-height:200px;color:#9aa3c2;text-align:center}.empty-icon.svelte-alk6o8{font-size:2em;margin-bottom:8px;opacity:0.5}.empty-text.svelte-alk6o8{font-size:0.9em;margin-bottom:4px}.empty-hint.svelte-alk6o8{font-size:0.8em;opacity:0.6}.progress-section.svelte-alk6o8{margin-bottom:16px}.progress-bar.svelte-alk6o8{height:8px;background:#2a2a33;border-radius:4px;overflow:hidden;position:relative}.progress-fill.svelte-alk6o8{position:absolute;top:0;left:0;height:100%;background:#7fd288;transition:width 0.3s ease}.progress-label.svelte-alk6o8{font-size:0.75em;color:#9aa3c2;margin-top:6px}.task-list.svelte-alk6o8{display:flex;flex-direction:column;gap:8px}.task-card.svelte-alk6o8{padding:10px 12px;background:#1a1a22;border-left:3px solid #9aa3c2;border-radius:4px}.task-header.svelte-alk6o8{display:flex;align-items:flex-start;gap:8px}.task-status.svelte-alk6o8{font-size:1em;flex-shrink:0}.task-description.svelte-alk6o8{flex:1;font-size:0.85em;color:#cfd3e9;line-height:1.4}.task-duration.svelte-alk6o8{font-size:0.75em;color:#9aa3c2;flex-shrink:0}.task-tool.svelte-alk6o8{font-size:0.75em;color:#68a8ef;margin-top:6px;padding-left:24px}.task-files.svelte-alk6o8{display:flex;flex-direction:column;gap:4px;margin-top:8px;padding-left:24px}.file-link.svelte-alk6o8{display:inline-flex;align-items:center;gap:4px;padding:4px 8px;background:#252530;border:none;border-radius:4px;color:#68a8ef;cursor:pointer;font-size:0.8em;text-align:left;transition:background 0.15s}.file-link.svelte-alk6o8:hover{background:#2a2a40;text-decoration:underline}",
  map: '{"version":3,"file":"TaskTracker.svelte","sources":["TaskTracker.svelte"],"sourcesContent":["<script lang=\\"ts\\">import { tasks } from \\"$lib/stores/tasks\\";\\nimport { openFile } from \\"$lib/stores/editor\\";\\n$: completedCount = $tasks.filter((t) => t.status === \\"completed\\").length;\\n$: totalCount = $tasks.length;\\n$: progressPercent = totalCount > 0 ? Math.round(completedCount / totalCount * 100) : 0;\\nconst statusIcons = {\\n  pending: \\"\\\\u2610\\",\\n  in_progress: \\"\\\\u23F3\\",\\n  completed: \\"\\\\u2611\\"\\n};\\nconst statusColors = {\\n  pending: \\"#9aa3c2\\",\\n  in_progress: \\"#68a8ef\\",\\n  completed: \\"#7fd288\\"\\n};\\nfunction handleFileClick(filePath) {\\n  const match = filePath.match(/^(.+?):(\\\\d+)$/);\\n  if (match) {\\n    const [, path, line] = match;\\n    openFile(path, parseInt(line, 10));\\n  } else {\\n    openFile(filePath);\\n  }\\n}\\nfunction formatDuration(ms) {\\n  if (!ms) return \\"\\";\\n  if (ms < 1e3) return `${ms}ms`;\\n  return `${(ms / 1e3).toFixed(1)}s`;\\n}\\n<\/script>\\n\\n<div class=\\"task-tracker\\">\\n  {#if $tasks.length === 0}\\n    <div class=\\"empty\\">\\n      <div class=\\"empty-icon\\">üìã</div>\\n      <div class=\\"empty-text\\">No active tasks</div>\\n      <div class=\\"empty-hint\\">Tasks will appear here during code operations</div>\\n    </div>\\n  {:else}\\n    <!-- Progress bar -->\\n    <div class=\\"progress-section\\">\\n      <div class=\\"progress-bar\\">\\n        <div\\n          class=\\"progress-fill\\"\\n          style=\\"width: {progressPercent}%\\"\\n        ></div>\\n      </div>\\n      <div class=\\"progress-label\\">\\n        {completedCount}/{totalCount} tasks completed ({progressPercent}%)\\n      </div>\\n    </div>\\n\\n    <!-- Task list -->\\n    <div class=\\"task-list\\">\\n      {#each $tasks as task (task.id)}\\n        <div\\n          class=\\"task-card\\"\\n          style=\\"border-left-color: {statusColors[task.status] || statusColors.pending}\\"\\n        >\\n          <div class=\\"task-header\\">\\n            <span class=\\"task-status\\" style=\\"color: {statusColors[task.status]}\\">\\n              {statusIcons[task.status] || \'‚óã\'}\\n            </span>\\n            <span class=\\"task-description\\">{task.description}</span>\\n            {#if task.duration_ms}\\n              <span class=\\"task-duration\\">{formatDuration(task.duration_ms)}</span>\\n            {/if}\\n          </div>\\n\\n          {#if task.tool}\\n            <div class=\\"task-tool\\">Tool: {task.tool}</div>\\n          {/if}\\n\\n          {#if task.files && task.files.length > 0}\\n            <div class=\\"task-files\\">\\n              {#each task.files as file}\\n                <button class=\\"file-link\\" on:click={() => handleFileClick(file)}>\\n                  üìÑ {file}\\n                </button>\\n              {/each}\\n            </div>\\n          {/if}\\n        </div>\\n      {/each}\\n    </div>\\n  {/if}\\n</div>\\n\\n<style>\\n  .task-tracker {\\n    padding: 12px;\\n    height: 100%;\\n    overflow-y: auto;\\n  }\\n\\n  .empty {\\n    display: flex;\\n    flex-direction: column;\\n    align-items: center;\\n    justify-content: center;\\n    height: 100%;\\n    min-height: 200px;\\n    color: #9aa3c2;\\n    text-align: center;\\n  }\\n\\n  .empty-icon {\\n    font-size: 2em;\\n    margin-bottom: 8px;\\n    opacity: 0.5;\\n  }\\n\\n  .empty-text {\\n    font-size: 0.9em;\\n    margin-bottom: 4px;\\n  }\\n\\n  .empty-hint {\\n    font-size: 0.8em;\\n    opacity: 0.6;\\n  }\\n\\n  .progress-section {\\n    margin-bottom: 16px;\\n  }\\n\\n  .progress-bar {\\n    height: 8px;\\n    background: #2a2a33;\\n    border-radius: 4px;\\n    overflow: hidden;\\n    position: relative;\\n  }\\n\\n  .progress-fill {\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n    height: 100%;\\n    background: #7fd288;\\n    transition: width 0.3s ease;\\n  }\\n\\n  .progress-label {\\n    font-size: 0.75em;\\n    color: #9aa3c2;\\n    margin-top: 6px;\\n  }\\n\\n  .task-list {\\n    display: flex;\\n    flex-direction: column;\\n    gap: 8px;\\n  }\\n\\n  .task-card {\\n    padding: 10px 12px;\\n    background: #1a1a22;\\n    border-left: 3px solid #9aa3c2;\\n    border-radius: 4px;\\n  }\\n\\n  .task-header {\\n    display: flex;\\n    align-items: flex-start;\\n    gap: 8px;\\n  }\\n\\n  .task-status {\\n    font-size: 1em;\\n    flex-shrink: 0;\\n  }\\n\\n  .task-description {\\n    flex: 1;\\n    font-size: 0.85em;\\n    color: #cfd3e9;\\n    line-height: 1.4;\\n  }\\n\\n  .task-duration {\\n    font-size: 0.75em;\\n    color: #9aa3c2;\\n    flex-shrink: 0;\\n  }\\n\\n  .task-tool {\\n    font-size: 0.75em;\\n    color: #68a8ef;\\n    margin-top: 6px;\\n    padding-left: 24px;\\n  }\\n\\n  .task-files {\\n    display: flex;\\n    flex-direction: column;\\n    gap: 4px;\\n    margin-top: 8px;\\n    padding-left: 24px;\\n  }\\n\\n  .file-link {\\n    display: inline-flex;\\n    align-items: center;\\n    gap: 4px;\\n    padding: 4px 8px;\\n    background: #252530;\\n    border: none;\\n    border-radius: 4px;\\n    color: #68a8ef;\\n    cursor: pointer;\\n    font-size: 0.8em;\\n    text-align: left;\\n    transition: background 0.15s;\\n  }\\n\\n  .file-link:hover {\\n    background: #2a2a40;\\n    text-decoration: underline;\\n  }\\n</style>\\n"],"names":[],"mappings":"AAyFE,2BAAc,CACZ,OAAO,CAAE,IAAI,CACb,MAAM,CAAE,IAAI,CACZ,UAAU,CAAE,IACd,CAEA,oBAAO,CACL,OAAO,CAAE,IAAI,CACb,cAAc,CAAE,MAAM,CACtB,WAAW,CAAE,MAAM,CACnB,eAAe,CAAE,MAAM,CACvB,MAAM,CAAE,IAAI,CACZ,UAAU,CAAE,KAAK,CACjB,KAAK,CAAE,OAAO,CACd,UAAU,CAAE,MACd,CAEA,yBAAY,CACV,SAAS,CAAE,GAAG,CACd,aAAa,CAAE,GAAG,CAClB,OAAO,CAAE,GACX,CAEA,yBAAY,CACV,SAAS,CAAE,KAAK,CAChB,aAAa,CAAE,GACjB,CAEA,yBAAY,CACV,SAAS,CAAE,KAAK,CAChB,OAAO,CAAE,GACX,CAEA,+BAAkB,CAChB,aAAa,CAAE,IACjB,CAEA,2BAAc,CACZ,MAAM,CAAE,GAAG,CACX,UAAU,CAAE,OAAO,CACnB,aAAa,CAAE,GAAG,CAClB,QAAQ,CAAE,MAAM,CAChB,QAAQ,CAAE,QACZ,CAEA,4BAAe,CACb,QAAQ,CAAE,QAAQ,CAClB,GAAG,CAAE,CAAC,CACN,IAAI,CAAE,CAAC,CACP,MAAM,CAAE,IAAI,CACZ,UAAU,CAAE,OAAO,CACnB,UAAU,CAAE,KAAK,CAAC,IAAI,CAAC,IACzB,CAEA,6BAAgB,CACd,SAAS,CAAE,MAAM,CACjB,KAAK,CAAE,OAAO,CACd,UAAU,CAAE,GACd,CAEA,wBAAW,CACT,OAAO,CAAE,IAAI,CACb,cAAc,CAAE,MAAM,CACtB,GAAG,CAAE,GACP,CAEA,wBAAW,CACT,OAAO,CAAE,IAAI,CAAC,IAAI,CAClB,UAAU,CAAE,OAAO,CACnB,WAAW,CAAE,GAAG,CAAC,KAAK,CAAC,OAAO,CAC9B,aAAa,CAAE,GACjB,CAEA,0BAAa,CACX,OAAO,CAAE,IAAI,CACb,WAAW,CAAE,UAAU,CACvB,GAAG,CAAE,GACP,CAEA,0BAAa,CACX,SAAS,CAAE,GAAG,CACd,WAAW,CAAE,CACf,CAEA,+BAAkB,CAChB,IAAI,CAAE,CAAC,CACP,SAAS,CAAE,MAAM,CACjB,KAAK,CAAE,OAAO,CACd,WAAW,CAAE,GACf,CAEA,4BAAe,CACb,SAAS,CAAE,MAAM,CACjB,KAAK,CAAE,OAAO,CACd,WAAW,CAAE,CACf,CAEA,wBAAW,CACT,SAAS,CAAE,MAAM,CACjB,KAAK,CAAE,OAAO,CACd,UAAU,CAAE,GAAG,CACf,YAAY,CAAE,IAChB,CAEA,yBAAY,CACV,OAAO,CAAE,IAAI,CACb,cAAc,CAAE,MAAM,CACtB,GAAG,CAAE,GAAG,CACR,UAAU,CAAE,GAAG,CACf,YAAY,CAAE,IAChB,CAEA,wBAAW,CACT,OAAO,CAAE,WAAW,CACpB,WAAW,CAAE,MAAM,CACnB,GAAG,CAAE,GAAG,CACR,OAAO,CAAE,GAAG,CAAC,GAAG,CAChB,UAAU,CAAE,OAAO,CACnB,MAAM,CAAE,IAAI,CACZ,aAAa,CAAE,GAAG,CAClB,KAAK,CAAE,OAAO,CACd,MAAM,CAAE,OAAO,CACf,SAAS,CAAE,KAAK,CAChB,UAAU,CAAE,IAAI,CAChB,UAAU,CAAE,UAAU,CAAC,KACzB,CAEA,wBAAU,MAAO,CACf,UAAU,CAAE,OAAO,CACnB,eAAe,CAAE,SACnB"}'
};
function formatDuration(ms) {
  if (!ms) return "";
  if (ms < 1e3) return `${ms}ms`;
  return `${(ms / 1e3).toFixed(1)}s`;
}
const TaskTracker = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  let completedCount;
  let totalCount;
  let progressPercent;
  let $tasks, $$unsubscribe_tasks;
  $$unsubscribe_tasks = subscribe(tasks, (value) => $tasks = value);
  const statusIcons = {
    pending: "‚òê",
    in_progress: "‚è≥",
    completed: "‚òë"
  };
  const statusColors = {
    pending: "#9aa3c2",
    in_progress: "#68a8ef",
    completed: "#7fd288"
  };
  $$result.css.add(css$a);
  completedCount = $tasks.filter((t) => t.status === "completed").length;
  totalCount = $tasks.length;
  progressPercent = totalCount > 0 ? Math.round(completedCount / totalCount * 100) : 0;
  $$unsubscribe_tasks();
  return `<div class="task-tracker svelte-alk6o8">${$tasks.length === 0 ? `<div class="empty svelte-alk6o8" data-svelte-h="svelte-qcsqpz"><div class="empty-icon svelte-alk6o8">üìã</div> <div class="empty-text svelte-alk6o8">No active tasks</div> <div class="empty-hint svelte-alk6o8">Tasks will appear here during code operations</div></div>` : ` <div class="progress-section svelte-alk6o8"><div class="progress-bar svelte-alk6o8"><div class="progress-fill svelte-alk6o8" style="${"width: " + escape(progressPercent, true) + "%"}"></div></div> <div class="progress-label svelte-alk6o8">${escape(completedCount)}/${escape(totalCount)} tasks completed (${escape(progressPercent)}%)</div></div>  <div class="task-list svelte-alk6o8">${each($tasks, (task) => {
    return `<div class="task-card svelte-alk6o8" style="${"border-left-color: " + escape(statusColors[task.status] || statusColors.pending, true)}"><div class="task-header svelte-alk6o8"><span class="task-status svelte-alk6o8" style="${"color: " + escape(statusColors[task.status], true)}">${escape(statusIcons[task.status] || "‚óã")}</span> <span class="task-description svelte-alk6o8">${escape(task.description)}</span> ${task.duration_ms ? `<span class="task-duration svelte-alk6o8">${escape(formatDuration(task.duration_ms))}</span>` : ``}</div> ${task.tool ? `<div class="task-tool svelte-alk6o8">Tool: ${escape(task.tool)}</div>` : ``} ${task.files && task.files.length > 0 ? `<div class="task-files svelte-alk6o8">${each(task.files, (file) => {
      return `<button class="file-link svelte-alk6o8">üìÑ ${escape(file)} </button>`;
    })} </div>` : ``} </div>`;
  })}</div>`} </div>`;
});
const css$9 = {
  code: ".terminal.svelte-ygm09p{display:flex;flex-direction:column;height:100%;background:#0d0d11}.terminal-header.svelte-ygm09p{display:flex;align-items:center;justify-content:space-between;padding:6px 12px;background:#1a1a22;border-bottom:1px solid #2a2a33;flex-shrink:0}.terminal-title.svelte-ygm09p{font-size:0.8em;font-weight:600;color:#9aa3c2;letter-spacing:0.05em}.terminal-actions.svelte-ygm09p{display:flex;gap:8px}.action-btn.svelte-ygm09p{background:transparent;border:none;color:#68a8ef;cursor:pointer;font-size:0.85em;padding:2px 8px;border-radius:4px;transition:background 0.15s}.action-btn.svelte-ygm09p:hover{background:#2a2a33}.terminal-content.svelte-ygm09p{flex:1;overflow-y:auto;padding:8px 12px;font-family:'Fira Mono', 'Consolas', 'Monaco', monospace;font-size:0.85em;line-height:1.5}.terminal-empty.svelte-ygm09p{color:#666;font-style:italic}.terminal-line.svelte-ygm09p{white-space:pre-wrap;word-break:break-all}",
  map: `{"version":3,"file":"Terminal.svelte","sources":["Terminal.svelte"],"sourcesContent":["<script lang=\\"ts\\">import { terminalLines, terminalVisible, clearTerminal, toggleTerminal } from \\"$lib/stores/terminal\\";\\nimport { onMount, afterUpdate } from \\"svelte\\";\\nlet terminalContent;\\nconst typeColors = {\\n  stdout: \\"#cfd3e9\\",\\n  stderr: \\"#ff6b6b\\",\\n  info: \\"#68a8ef\\"\\n};\\nafterUpdate(() => {\\n  if (terminalContent) {\\n    terminalContent.scrollTop = terminalContent.scrollHeight;\\n  }\\n});\\n<\/script>\\n\\n<div class=\\"terminal\\">\\n  <div class=\\"terminal-header\\">\\n    <span class=\\"terminal-title\\">TERMINAL</span>\\n    <div class=\\"terminal-actions\\">\\n      <button class=\\"action-btn\\" on:click={clearTerminal} title=\\"Clear terminal\\">\\n        Clear\\n      </button>\\n      <button class=\\"action-btn\\" on:click={toggleTerminal} title=\\"Hide terminal\\">\\n        ‚àí\\n      </button>\\n    </div>\\n  </div>\\n\\n  <div class=\\"terminal-content\\" bind:this={terminalContent}>\\n    {#if $terminalLines.length === 0}\\n      <div class=\\"terminal-empty\\">Terminal output will appear here...</div>\\n    {:else}\\n      {#each $terminalLines as line (line.timestamp)}\\n        <div class=\\"terminal-line\\" style=\\"color: {typeColors[line.type] || typeColors.stdout}\\">\\n          {line.text}\\n        </div>\\n      {/each}\\n    {/if}\\n  </div>\\n</div>\\n\\n<style>\\n  .terminal {\\n    display: flex;\\n    flex-direction: column;\\n    height: 100%;\\n    background: #0d0d11;\\n  }\\n\\n  .terminal-header {\\n    display: flex;\\n    align-items: center;\\n    justify-content: space-between;\\n    padding: 6px 12px;\\n    background: #1a1a22;\\n    border-bottom: 1px solid #2a2a33;\\n    flex-shrink: 0;\\n  }\\n\\n  .terminal-title {\\n    font-size: 0.8em;\\n    font-weight: 600;\\n    color: #9aa3c2;\\n    letter-spacing: 0.05em;\\n  }\\n\\n  .terminal-actions {\\n    display: flex;\\n    gap: 8px;\\n  }\\n\\n  .action-btn {\\n    background: transparent;\\n    border: none;\\n    color: #68a8ef;\\n    cursor: pointer;\\n    font-size: 0.85em;\\n    padding: 2px 8px;\\n    border-radius: 4px;\\n    transition: background 0.15s;\\n  }\\n\\n  .action-btn:hover {\\n    background: #2a2a33;\\n  }\\n\\n  .terminal-content {\\n    flex: 1;\\n    overflow-y: auto;\\n    padding: 8px 12px;\\n    font-family: 'Fira Mono', 'Consolas', 'Monaco', monospace;\\n    font-size: 0.85em;\\n    line-height: 1.5;\\n  }\\n\\n  .terminal-empty {\\n    color: #666;\\n    font-style: italic;\\n  }\\n\\n  .terminal-line {\\n    white-space: pre-wrap;\\n    word-break: break-all;\\n  }\\n</style>\\n"],"names":[],"mappings":"AA0CE,uBAAU,CACR,OAAO,CAAE,IAAI,CACb,cAAc,CAAE,MAAM,CACtB,MAAM,CAAE,IAAI,CACZ,UAAU,CAAE,OACd,CAEA,8BAAiB,CACf,OAAO,CAAE,IAAI,CACb,WAAW,CAAE,MAAM,CACnB,eAAe,CAAE,aAAa,CAC9B,OAAO,CAAE,GAAG,CAAC,IAAI,CACjB,UAAU,CAAE,OAAO,CACnB,aAAa,CAAE,GAAG,CAAC,KAAK,CAAC,OAAO,CAChC,WAAW,CAAE,CACf,CAEA,6BAAgB,CACd,SAAS,CAAE,KAAK,CAChB,WAAW,CAAE,GAAG,CAChB,KAAK,CAAE,OAAO,CACd,cAAc,CAAE,MAClB,CAEA,+BAAkB,CAChB,OAAO,CAAE,IAAI,CACb,GAAG,CAAE,GACP,CAEA,yBAAY,CACV,UAAU,CAAE,WAAW,CACvB,MAAM,CAAE,IAAI,CACZ,KAAK,CAAE,OAAO,CACd,MAAM,CAAE,OAAO,CACf,SAAS,CAAE,MAAM,CACjB,OAAO,CAAE,GAAG,CAAC,GAAG,CAChB,aAAa,CAAE,GAAG,CAClB,UAAU,CAAE,UAAU,CAAC,KACzB,CAEA,yBAAW,MAAO,CAChB,UAAU,CAAE,OACd,CAEA,+BAAkB,CAChB,IAAI,CAAE,CAAC,CACP,UAAU,CAAE,IAAI,CAChB,OAAO,CAAE,GAAG,CAAC,IAAI,CACjB,WAAW,CAAE,WAAW,CAAC,CAAC,UAAU,CAAC,CAAC,QAAQ,CAAC,CAAC,SAAS,CACzD,SAAS,CAAE,MAAM,CACjB,WAAW,CAAE,GACf,CAEA,6BAAgB,CACd,KAAK,CAAE,IAAI,CACX,UAAU,CAAE,MACd,CAEA,4BAAe,CACb,WAAW,CAAE,QAAQ,CACrB,UAAU,CAAE,SACd"}`
};
const Terminal = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  let $terminalLines, $$unsubscribe_terminalLines;
  $$unsubscribe_terminalLines = subscribe(terminalLines, (value) => $terminalLines = value);
  let terminalContent;
  const typeColors = {
    stdout: "#cfd3e9",
    stderr: "#ff6b6b",
    info: "#68a8ef"
  };
  $$result.css.add(css$9);
  $$unsubscribe_terminalLines();
  return `<div class="terminal svelte-ygm09p"><div class="terminal-header svelte-ygm09p"><span class="terminal-title svelte-ygm09p" data-svelte-h="svelte-1y6i1os">TERMINAL</span> <div class="terminal-actions svelte-ygm09p"><button class="action-btn svelte-ygm09p" title="Clear terminal" data-svelte-h="svelte-b8ya9a">Clear</button> <button class="action-btn svelte-ygm09p" title="Hide terminal" data-svelte-h="svelte-1saq4xr">‚àí</button></div></div> <div class="terminal-content svelte-ygm09p"${add_attribute("this", terminalContent, 0)}>${$terminalLines.length === 0 ? `<div class="terminal-empty svelte-ygm09p" data-svelte-h="svelte-aap9rh">Terminal output will appear here...</div>` : `${each($terminalLines, (line) => {
    return `<div class="terminal-line svelte-ygm09p" style="${"color: " + escape(typeColors[line.type] || typeColors.stdout, true)}">${escape(line.text)} </div>`;
  })}`}</div> </div>`;
});
const css$8 = {
  code: ".ide-workspace.svelte-7931n0{display:flex;flex-direction:column;height:100%;background:#0d0d11;overflow:hidden}.ide-panels.svelte-7931n0{display:flex;flex:1;min-height:0;gap:1px;background:#2a2a33}.panel.svelte-7931n0{display:flex;flex-direction:column;background:#101014;overflow:hidden}.file-tree-panel.svelte-7931n0{width:20%;min-width:180px;max-width:350px;border-right:1px solid #2a2a33}.editor-panel.svelte-7931n0{flex:1;min-width:300px}.task-panel.svelte-7931n0{width:30%;min-width:250px;max-width:450px;border-left:1px solid #2a2a33}.panel-header.svelte-7931n0{display:flex;align-items:center;justify-content:space-between;padding:8px 12px;background:#1a1a22;border-bottom:1px solid #2a2a33;flex-shrink:0}.panel-title.svelte-7931n0{font-size:0.8em;font-weight:600;color:#9aa3c2;letter-spacing:0.05em}.panel-content.svelte-7931n0{flex:1;overflow:auto}.refresh-btn.svelte-7931n0{background:transparent;border:none;color:#68a8ef;cursor:pointer;font-size:1.1em;padding:2px 6px;border-radius:4px;transition:background 0.2s}.refresh-btn.svelte-7931n0:hover{background:#2a2a33}.editor-container.svelte-7931n0{flex:1;min-height:0;background:#1e1e1e}.chat-input-bar.svelte-7931n0{flex-shrink:0;border-top:1px solid #2a2a33;background:#101014}.ai-response-section.svelte-7931n0{margin-top:16px;border-top:1px solid #2a2a33;padding-top:12px}.response-header.svelte-7931n0{font-size:0.8em;font-weight:600;color:#9aa3c2;letter-spacing:0.05em;margin-bottom:8px;text-transform:uppercase}.response-content.svelte-7931n0{max-height:300px;overflow-y:auto}.terminal-panel.svelte-7931n0{height:200px;border-top:2px solid #2a2a33;flex-shrink:0}@media(max-width: 1200px){.file-tree-panel.svelte-7931n0{width:25%}.task-panel.svelte-7931n0{width:35%}}@media(max-width: 900px){.ide-panels.svelte-7931n0{flex-direction:column}.file-tree-panel.svelte-7931n0,.task-panel.svelte-7931n0{width:100%;max-width:none;height:200px;border:none;border-bottom:1px solid #2a2a33}.editor-panel.svelte-7931n0{flex:1}}",
  map: '{"version":3,"file":"IDEWorkspace.svelte","sources":["IDEWorkspace.svelte"],"sourcesContent":["<script lang=\\"ts\\">import FileTree from \\"./FileTree.svelte\\";\\nimport Editor from \\"./Editor.svelte\\";\\nimport EditorTabs from \\"./EditorTabs.svelte\\";\\nimport TaskTracker from \\"./TaskTracker.svelte\\";\\nimport Terminal from \\"./Terminal.svelte\\";\\nimport MessageInput from \\"$lib/components/chat/MessageInput.svelte\\";\\nimport ThinkingPanel from \\"$lib/components/pandora/ThinkingPanel.svelte\\";\\nimport ResponseMessage from \\"$lib/components/chat/Messages/ResponseMessage.svelte\\";\\nimport { terminalVisible } from \\"$lib/stores/terminal\\";\\nimport { messages, isLoading } from \\"$lib/stores/chat\\";\\nimport { sendMessage } from \\"$lib/api/client\\";\\n$: lastAssistantMessage = $messages.filter((m) => m.role === \\"assistant\\").slice(-1)[0];\\nfunction handleSubmit(e) {\\n  const history = $messages.map((m) => ({\\n    role: m.role,\\n    content: m.content\\n  }));\\n  sendMessage(e.detail, history);\\n}\\n<\/script>\\n\\n<div class=\\"ide-workspace\\">\\n  <!-- Thinking Panel at top -->\\n  <ThinkingPanel />\\n\\n  <div class=\\"ide-panels\\">\\n    <!-- Left Panel: File Tree -->\\n    <div class=\\"panel file-tree-panel\\">\\n      <div class=\\"panel-header\\">\\n        <span class=\\"panel-title\\">FILES</span>\\n        <button class=\\"refresh-btn\\" title=\\"Refresh file tree\\">‚Üª</button>\\n      </div>\\n      <div class=\\"panel-content\\">\\n        <FileTree />\\n      </div>\\n    </div>\\n\\n    <!-- Center Panel: Editor -->\\n    <div class=\\"panel editor-panel\\">\\n      <EditorTabs />\\n      <div class=\\"editor-container\\">\\n        <Editor />\\n      </div>\\n    </div>\\n\\n    <!-- Right Panel: Task Tracker + AI Response -->\\n    <div class=\\"panel task-panel\\">\\n      <div class=\\"panel-header\\">\\n        <span class=\\"panel-title\\">TASKS & AI</span>\\n      </div>\\n      <div class=\\"panel-content\\">\\n        <TaskTracker />\\n\\n        <!-- Show last AI response -->\\n        {#if lastAssistantMessage}\\n          <div class=\\"ai-response-section\\">\\n            <div class=\\"response-header\\">AI Response</div>\\n            <div class=\\"response-content\\">\\n              <ResponseMessage\\n                content={lastAssistantMessage.content}\\n                timestamp={lastAssistantMessage.timestamp}\\n                isLoading={$isLoading && lastAssistantMessage === $messages[$messages.length - 1]}\\n              />\\n            </div>\\n          </div>\\n        {/if}\\n      </div>\\n    </div>\\n  </div>\\n\\n  <!-- Chat Input Bar -->\\n  <div class=\\"chat-input-bar\\">\\n    <MessageInput on:submit={handleSubmit} placeholder=\\"Ask the AI to help with code...\\" />\\n  </div>\\n\\n  <!-- Bottom Panel: Terminal (collapsible) -->\\n  {#if $terminalVisible}\\n    <div class=\\"terminal-panel\\">\\n      <Terminal />\\n    </div>\\n  {/if}\\n</div>\\n\\n<style>\\n  .ide-workspace {\\n    display: flex;\\n    flex-direction: column;\\n    height: 100%;\\n    background: #0d0d11;\\n    overflow: hidden;\\n  }\\n\\n  .ide-panels {\\n    display: flex;\\n    flex: 1;\\n    min-height: 0;\\n    gap: 1px;\\n    background: #2a2a33;\\n  }\\n\\n  .panel {\\n    display: flex;\\n    flex-direction: column;\\n    background: #101014;\\n    overflow: hidden;\\n  }\\n\\n  .file-tree-panel {\\n    width: 20%;\\n    min-width: 180px;\\n    max-width: 350px;\\n    border-right: 1px solid #2a2a33;\\n  }\\n\\n  .editor-panel {\\n    flex: 1;\\n    min-width: 300px;\\n  }\\n\\n  .task-panel {\\n    width: 30%;\\n    min-width: 250px;\\n    max-width: 450px;\\n    border-left: 1px solid #2a2a33;\\n  }\\n\\n  .panel-header {\\n    display: flex;\\n    align-items: center;\\n    justify-content: space-between;\\n    padding: 8px 12px;\\n    background: #1a1a22;\\n    border-bottom: 1px solid #2a2a33;\\n    flex-shrink: 0;\\n  }\\n\\n  .panel-title {\\n    font-size: 0.8em;\\n    font-weight: 600;\\n    color: #9aa3c2;\\n    letter-spacing: 0.05em;\\n  }\\n\\n  .panel-content {\\n    flex: 1;\\n    overflow: auto;\\n  }\\n\\n  .refresh-btn {\\n    background: transparent;\\n    border: none;\\n    color: #68a8ef;\\n    cursor: pointer;\\n    font-size: 1.1em;\\n    padding: 2px 6px;\\n    border-radius: 4px;\\n    transition: background 0.2s;\\n  }\\n\\n  .refresh-btn:hover {\\n    background: #2a2a33;\\n  }\\n\\n  .editor-container {\\n    flex: 1;\\n    min-height: 0;\\n    background: #1e1e1e;\\n  }\\n\\n  .chat-input-bar {\\n    flex-shrink: 0;\\n    border-top: 1px solid #2a2a33;\\n    background: #101014;\\n  }\\n\\n  .ai-response-section {\\n    margin-top: 16px;\\n    border-top: 1px solid #2a2a33;\\n    padding-top: 12px;\\n  }\\n\\n  .response-header {\\n    font-size: 0.8em;\\n    font-weight: 600;\\n    color: #9aa3c2;\\n    letter-spacing: 0.05em;\\n    margin-bottom: 8px;\\n    text-transform: uppercase;\\n  }\\n\\n  .response-content {\\n    max-height: 300px;\\n    overflow-y: auto;\\n  }\\n\\n  .terminal-panel {\\n    height: 200px;\\n    border-top: 2px solid #2a2a33;\\n    flex-shrink: 0;\\n  }\\n\\n  /* Responsive adjustments */\\n  @media (max-width: 1200px) {\\n    .file-tree-panel {\\n      width: 25%;\\n    }\\n    .task-panel {\\n      width: 35%;\\n    }\\n  }\\n\\n  @media (max-width: 900px) {\\n    .ide-panels {\\n      flex-direction: column;\\n    }\\n\\n    .file-tree-panel,\\n    .task-panel {\\n      width: 100%;\\n      max-width: none;\\n      height: 200px;\\n      border: none;\\n      border-bottom: 1px solid #2a2a33;\\n    }\\n\\n    .editor-panel {\\n      flex: 1;\\n    }\\n  }\\n</style>\\n"],"names":[],"mappings":"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"}'
};
const IDEWorkspace = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  let lastAssistantMessage;
  let $messages, $$unsubscribe_messages;
  let $isLoading, $$unsubscribe_isLoading;
  let $terminalVisible, $$unsubscribe_terminalVisible;
  $$unsubscribe_messages = subscribe(messages, (value) => $messages = value);
  $$unsubscribe_isLoading = subscribe(isLoading, (value) => $isLoading = value);
  $$unsubscribe_terminalVisible = subscribe(terminalVisible, (value) => $terminalVisible = value);
  $$result.css.add(css$8);
  lastAssistantMessage = $messages.filter((m) => m.role === "assistant").slice(-1)[0];
  $$unsubscribe_messages();
  $$unsubscribe_isLoading();
  $$unsubscribe_terminalVisible();
  return `<div class="ide-workspace svelte-7931n0"> ${validate_component(ThinkingPanel, "ThinkingPanel").$$render($$result, {}, {}, {})} <div class="ide-panels svelte-7931n0"> <div class="panel file-tree-panel svelte-7931n0"><div class="panel-header svelte-7931n0" data-svelte-h="svelte-1htkvka"><span class="panel-title svelte-7931n0">FILES</span> <button class="refresh-btn svelte-7931n0" title="Refresh file tree">‚Üª</button></div> <div class="panel-content svelte-7931n0">${validate_component(FileTree, "FileTree").$$render($$result, {}, {}, {})}</div></div>  <div class="panel editor-panel svelte-7931n0">${validate_component(EditorTabs, "EditorTabs").$$render($$result, {}, {}, {})} <div class="editor-container svelte-7931n0">${validate_component(Editor, "Editor").$$render($$result, {}, {}, {})}</div></div>  <div class="panel task-panel svelte-7931n0"><div class="panel-header svelte-7931n0" data-svelte-h="svelte-1rrintm"><span class="panel-title svelte-7931n0">TASKS &amp; AI</span></div> <div class="panel-content svelte-7931n0">${validate_component(TaskTracker, "TaskTracker").$$render($$result, {}, {}, {})}  ${lastAssistantMessage ? `<div class="ai-response-section svelte-7931n0"><div class="response-header svelte-7931n0" data-svelte-h="svelte-1kx8yy7">AI Response</div> <div class="response-content svelte-7931n0">${validate_component(ResponseMessage, "ResponseMessage").$$render(
    $$result,
    {
      content: lastAssistantMessage.content,
      timestamp: lastAssistantMessage.timestamp,
      isLoading: $isLoading && lastAssistantMessage === $messages[$messages.length - 1]
    },
    {},
    {}
  )}</div></div>` : ``}</div></div></div>  <div class="chat-input-bar svelte-7931n0">${validate_component(MessageInput, "MessageInput").$$render(
    $$result,
    {
      placeholder: "Ask the AI to help with code..."
    },
    {},
    {}
  )}</div>  ${$terminalVisible ? `<div class="terminal-panel svelte-7931n0">${validate_component(Terminal, "Terminal").$$render($$result, {}, {}, {})}</div>` : ``} </div>`;
});
const css$7 = {
  code: '.mode-selector.svelte-vco75f{display:flex;gap:4px;background:#101014;padding:4px;border-radius:8px;border:1px solid #2a2a33}label.svelte-vco75f{display:flex;align-items:center;gap:6px;padding:6px 12px;border-radius:6px;cursor:pointer;color:#9aa3c2;transition:all 0.15s}label.svelte-vco75f:hover{background:#1a1a22}label.active.svelte-vco75f{background:#242449;color:#ececf1}input[type="radio"].svelte-vco75f{display:none}.icon.svelte-vco75f{font-size:1em}.label.svelte-vco75f{font-size:0.9em;font-weight:500}',
  map: '{"version":3,"file":"ModeSelector.svelte","sources":["ModeSelector.svelte"],"sourcesContent":["<script lang=\\"ts\\">import { mode } from \\"$lib/stores/mode\\";\\nconst modes = [\\n  { value: \\"chat\\", label: \\"Chat\\", icon: \\"\\\\u{1F4AC}\\" },\\n  { value: \\"code\\", label: \\"Code\\", icon: \\"\\\\u{1F4BB}\\" }\\n];\\n<\/script>\\n\\n<div class=\\"mode-selector\\">\\n  {#each modes as m}\\n    <label class:active={$mode === m.value}>\\n      <input type=\\"radio\\" name=\\"mode\\" value={m.value} bind:group={$mode} />\\n      <span class=\\"icon\\">{m.icon}</span>\\n      <span class=\\"label\\">{m.label}</span>\\n    </label>\\n  {/each}\\n</div>\\n\\n<style>\\n  .mode-selector {\\n    display: flex;\\n    gap: 4px;\\n    background: #101014;\\n    padding: 4px;\\n    border-radius: 8px;\\n    border: 1px solid #2a2a33;\\n  }\\n\\n  label {\\n    display: flex;\\n    align-items: center;\\n    gap: 6px;\\n    padding: 6px 12px;\\n    border-radius: 6px;\\n    cursor: pointer;\\n    color: #9aa3c2;\\n    transition: all 0.15s;\\n  }\\n\\n  label:hover {\\n    background: #1a1a22;\\n  }\\n\\n  label.active {\\n    background: #242449;\\n    color: #ececf1;\\n  }\\n\\n  input[type=\\"radio\\"] {\\n    display: none;\\n  }\\n\\n  .icon {\\n    font-size: 1em;\\n  }\\n\\n  .label {\\n    font-size: 0.9em;\\n    font-weight: 500;\\n  }\\n</style>\\n"],"names":[],"mappings":"AAkBE,4BAAe,CACb,OAAO,CAAE,IAAI,CACb,GAAG,CAAE,GAAG,CACR,UAAU,CAAE,OAAO,CACnB,OAAO,CAAE,GAAG,CACZ,aAAa,CAAE,GAAG,CAClB,MAAM,CAAE,GAAG,CAAC,KAAK,CAAC,OACpB,CAEA,mBAAM,CACJ,OAAO,CAAE,IAAI,CACb,WAAW,CAAE,MAAM,CACnB,GAAG,CAAE,GAAG,CACR,OAAO,CAAE,GAAG,CAAC,IAAI,CACjB,aAAa,CAAE,GAAG,CAClB,MAAM,CAAE,OAAO,CACf,KAAK,CAAE,OAAO,CACd,UAAU,CAAE,GAAG,CAAC,KAClB,CAEA,mBAAK,MAAO,CACV,UAAU,CAAE,OACd,CAEA,KAAK,qBAAQ,CACX,UAAU,CAAE,OAAO,CACnB,KAAK,CAAE,OACT,CAEA,KAAK,CAAC,IAAI,CAAC,OAAO,eAAE,CAClB,OAAO,CAAE,IACX,CAEA,mBAAM,CACJ,SAAS,CAAE,GACb,CAEA,oBAAO,CACL,SAAS,CAAE,KAAK,CAChB,WAAW,CAAE,GACf"}'
};
const ModeSelector = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  let $mode, $$unsubscribe_mode;
  $$unsubscribe_mode = subscribe(mode, (value) => $mode = value);
  const modes = [
    {
      value: "chat",
      label: "Chat",
      icon: "üí¨"
    },
    {
      value: "code",
      label: "Code",
      icon: "üíª"
    }
  ];
  $$result.css.add(css$7);
  $$unsubscribe_mode();
  return `<div class="mode-selector svelte-vco75f">${each(modes, (m) => {
    return `<label class="${["svelte-vco75f", $mode === m.value ? "active" : ""].join(" ").trim()}"><input type="radio" name="mode"${add_attribute("value", m.value, 0)} class="svelte-vco75f"${m.value === $mode ? add_attribute("checked", true, 1) : ""}> <span class="icon svelte-vco75f">${escape(m.icon)}</span> <span class="label svelte-vco75f">${escape(m.label)}</span> </label>`;
  })} </div>`;
});
const css$6 = {
  code: `.dropdown.svelte-19m7746.svelte-19m7746{appearance:none;-webkit-appearance:none;-moz-appearance:none;background:#101014 url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%239aa3c2' d='M6 8L2 4h8z'/%3E%3C/svg%3E") no-repeat right 10px center;color:#ececf1;border:1px solid #2a2a33;border-radius:6px;padding:6px 30px 6px 10px;font-size:0.95em;cursor:pointer;min-width:100px}.dropdown.svelte-19m7746.svelte-19m7746:focus{outline:none;border-color:#445fe6}.dropdown.svelte-19m7746 option.svelte-19m7746{background:#1a1a22;color:#ececf1;padding:8px}`,
  map: `{"version":3,"file":"Dropdown.svelte","sources":["Dropdown.svelte"],"sourcesContent":["<script lang=\\"ts\\">export let items = [];\\nexport let value = \\"\\";\\nexport let placeholder = \\"Select...\\";\\n<\/script>\\n\\n<select bind:value class=\\"dropdown\\">\\n  {#if placeholder && !value}\\n    <option value=\\"\\" disabled>{placeholder}</option>\\n  {/if}\\n  {#each items as item}\\n    <option value={item}>{item}</option>\\n  {/each}\\n</select>\\n\\n<style>\\n  .dropdown {\\n    appearance: none;\\n    -webkit-appearance: none;\\n    -moz-appearance: none;\\n    background: #101014 url(\\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%239aa3c2' d='M6 8L2 4h8z'/%3E%3C/svg%3E\\") no-repeat right 10px center;\\n    color: #ececf1;\\n    border: 1px solid #2a2a33;\\n    border-radius: 6px;\\n    padding: 6px 30px 6px 10px;\\n    font-size: 0.95em;\\n    cursor: pointer;\\n    min-width: 100px;\\n  }\\n\\n  .dropdown:focus {\\n    outline: none;\\n    border-color: #445fe6;\\n  }\\n\\n  .dropdown option {\\n    background: #1a1a22;\\n    color: #ececf1;\\n    padding: 8px;\\n  }\\n</style>\\n"],"names":[],"mappings":"AAeE,uCAAU,CACR,UAAU,CAAE,IAAI,CAChB,kBAAkB,CAAE,IAAI,CACxB,eAAe,CAAE,IAAI,CACrB,UAAU,CAAE,OAAO,CAAC,uKAAuK,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,CACvN,KAAK,CAAE,OAAO,CACd,MAAM,CAAE,GAAG,CAAC,KAAK,CAAC,OAAO,CACzB,aAAa,CAAE,GAAG,CAClB,OAAO,CAAE,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAC1B,SAAS,CAAE,MAAM,CACjB,MAAM,CAAE,OAAO,CACf,SAAS,CAAE,KACb,CAEA,uCAAS,MAAO,CACd,OAAO,CAAE,IAAI,CACb,YAAY,CAAE,OAChB,CAEA,wBAAS,CAAC,qBAAO,CACf,UAAU,CAAE,OAAO,CACnB,KAAK,CAAE,OAAO,CACd,OAAO,CAAE,GACX"}`
};
const Dropdown = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  let { items = [] } = $$props;
  let { value = "" } = $$props;
  let { placeholder = "Select..." } = $$props;
  if ($$props.items === void 0 && $$bindings.items && items !== void 0) $$bindings.items(items);
  if ($$props.value === void 0 && $$bindings.value && value !== void 0) $$bindings.value(value);
  if ($$props.placeholder === void 0 && $$bindings.placeholder && placeholder !== void 0) $$bindings.placeholder(placeholder);
  $$result.css.add(css$6);
  return `<select class="dropdown svelte-19m7746">${placeholder && !value ? `<option value="" disabled class="svelte-19m7746">${escape(placeholder)}</option>` : ``}${each(items, (item) => {
    return `<option${add_attribute("value", item, 0)} class="svelte-19m7746">${escape(item)}</option>`;
  })}</select>`;
});
const css$5 = {
  code: ".profile-manager.svelte-18dy7x5.svelte-18dy7x5{display:flex;align-items:center;gap:12px;flex-wrap:wrap}.label.svelte-18dy7x5.svelte-18dy7x5{color:#9aa3c2;font-size:0.9em}.add-profile.svelte-18dy7x5.svelte-18dy7x5{display:flex;gap:4px}.add-profile.svelte-18dy7x5 input.svelte-18dy7x5{background:#101014;border:1px solid #2a2a33;border-radius:6px;padding:6px 10px;color:#ececf1;font-size:0.9em;width:120px}.add-profile.svelte-18dy7x5 input.svelte-18dy7x5:focus{outline:none;border-color:#445fe6}.add-profile.svelte-18dy7x5 button.svelte-18dy7x5{background:#2a2a88;color:#fff;border:none;border-radius:6px;padding:6px 12px;cursor:pointer;font-size:0.85em}.add-profile.svelte-18dy7x5 button.svelte-18dy7x5:hover{background:#3a3a98}.remember.svelte-18dy7x5.svelte-18dy7x5{display:flex;align-items:center;gap:6px;color:#9aa3c2;font-size:0.85em;cursor:pointer}.remember.svelte-18dy7x5 input.svelte-18dy7x5{cursor:pointer}",
  map: '{"version":3,"file":"ProfileManager.svelte","sources":["ProfileManager.svelte"],"sourcesContent":["<script lang=\\"ts\\">import { profile, profiles, remember, addProfile } from \\"$lib/stores/profile\\";\\nimport Dropdown from \\"$lib/components/common/Dropdown.svelte\\";\\nlet newProfileName = \\"\\";\\nfunction handleAdd() {\\n  if (newProfileName.trim()) {\\n    addProfile(newProfileName.trim());\\n    newProfileName = \\"\\";\\n  }\\n}\\nfunction handleKeydown(e) {\\n  if (e.key === \\"Enter\\") handleAdd();\\n}\\n<\/script>\\n\\n<div class=\\"profile-manager\\">\\n  <label class=\\"label\\">Profile:</label>\\n  <Dropdown items={$profiles} bind:value={$profile} />\\n\\n  <div class=\\"add-profile\\">\\n    <input\\n      type=\\"text\\"\\n      bind:value={newProfileName}\\n      placeholder=\\"Add profile\\"\\n      on:keydown={handleKeydown}\\n      autocomplete=\\"off\\"\\n    />\\n    <button on:click={handleAdd}>Add</button>\\n  </div>\\n\\n  <label class=\\"remember\\">\\n    <input type=\\"checkbox\\" bind:checked={$remember} />\\n    <span>Remember</span>\\n  </label>\\n</div>\\n\\n<style>\\n  .profile-manager {\\n    display: flex;\\n    align-items: center;\\n    gap: 12px;\\n    flex-wrap: wrap;\\n  }\\n\\n  .label {\\n    color: #9aa3c2;\\n    font-size: 0.9em;\\n  }\\n\\n  .add-profile {\\n    display: flex;\\n    gap: 4px;\\n  }\\n\\n  .add-profile input {\\n    background: #101014;\\n    border: 1px solid #2a2a33;\\n    border-radius: 6px;\\n    padding: 6px 10px;\\n    color: #ececf1;\\n    font-size: 0.9em;\\n    width: 120px;\\n  }\\n\\n  .add-profile input:focus {\\n    outline: none;\\n    border-color: #445fe6;\\n  }\\n\\n  .add-profile button {\\n    background: #2a2a88;\\n    color: #fff;\\n    border: none;\\n    border-radius: 6px;\\n    padding: 6px 12px;\\n    cursor: pointer;\\n    font-size: 0.85em;\\n  }\\n\\n  .add-profile button:hover {\\n    background: #3a3a98;\\n  }\\n\\n  .remember {\\n    display: flex;\\n    align-items: center;\\n    gap: 6px;\\n    color: #9aa3c2;\\n    font-size: 0.85em;\\n    cursor: pointer;\\n  }\\n\\n  .remember input {\\n    cursor: pointer;\\n  }\\n</style>\\n"],"names":[],"mappings":"AAoCE,8CAAiB,CACf,OAAO,CAAE,IAAI,CACb,WAAW,CAAE,MAAM,CACnB,GAAG,CAAE,IAAI,CACT,SAAS,CAAE,IACb,CAEA,oCAAO,CACL,KAAK,CAAE,OAAO,CACd,SAAS,CAAE,KACb,CAEA,0CAAa,CACX,OAAO,CAAE,IAAI,CACb,GAAG,CAAE,GACP,CAEA,2BAAY,CAAC,oBAAM,CACjB,UAAU,CAAE,OAAO,CACnB,MAAM,CAAE,GAAG,CAAC,KAAK,CAAC,OAAO,CACzB,aAAa,CAAE,GAAG,CAClB,OAAO,CAAE,GAAG,CAAC,IAAI,CACjB,KAAK,CAAE,OAAO,CACd,SAAS,CAAE,KAAK,CAChB,KAAK,CAAE,KACT,CAEA,2BAAY,CAAC,oBAAK,MAAO,CACvB,OAAO,CAAE,IAAI,CACb,YAAY,CAAE,OAChB,CAEA,2BAAY,CAAC,qBAAO,CAClB,UAAU,CAAE,OAAO,CACnB,KAAK,CAAE,IAAI,CACX,MAAM,CAAE,IAAI,CACZ,aAAa,CAAE,GAAG,CAClB,OAAO,CAAE,GAAG,CAAC,IAAI,CACjB,MAAM,CAAE,OAAO,CACf,SAAS,CAAE,MACb,CAEA,2BAAY,CAAC,qBAAM,MAAO,CACxB,UAAU,CAAE,OACd,CAEA,uCAAU,CACR,OAAO,CAAE,IAAI,CACb,WAAW,CAAE,MAAM,CACnB,GAAG,CAAE,GAAG,CACR,KAAK,CAAE,OAAO,CACd,SAAS,CAAE,MAAM,CACjB,MAAM,CAAE,OACV,CAEA,wBAAS,CAAC,oBAAM,CACd,MAAM,CAAE,OACV"}'
};
const ProfileManager = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  let $profiles, $$unsubscribe_profiles;
  let $profile, $$unsubscribe_profile;
  let $remember, $$unsubscribe_remember;
  $$unsubscribe_profiles = subscribe(profiles, (value) => $profiles = value);
  $$unsubscribe_profile = subscribe(profile, (value) => $profile = value);
  $$unsubscribe_remember = subscribe(remember, (value) => $remember = value);
  let newProfileName = "";
  $$result.css.add(css$5);
  let $$settled;
  let $$rendered;
  let previous_head = $$result.head;
  do {
    $$settled = true;
    $$result.head = previous_head;
    $$rendered = `<div class="profile-manager svelte-18dy7x5"><label class="label svelte-18dy7x5" data-svelte-h="svelte-nrkfzs">Profile:</label> ${validate_component(Dropdown, "Dropdown").$$render(
      $$result,
      { items: $profiles, value: $profile },
      {
        value: ($$value) => {
          $profile = $$value;
          $$settled = false;
        }
      },
      {}
    )} <div class="add-profile svelte-18dy7x5"><input type="text" placeholder="Add profile" autocomplete="off" class="svelte-18dy7x5"${add_attribute("value", newProfileName, 0)}> <button class="svelte-18dy7x5" data-svelte-h="svelte-1j35ab6">Add</button></div> <label class="remember svelte-18dy7x5"><input type="checkbox" class="svelte-18dy7x5"${add_attribute("checked", $remember, 1)}> <span data-svelte-h="svelte-b4tdth">Remember</span></label> </div>`;
  } while (!$$settled);
  $$unsubscribe_profiles();
  $$unsubscribe_profile();
  $$unsubscribe_remember();
  return $$rendered;
});
const css$4 = {
  code: ".repo-config.svelte-uce0eq{display:flex;align-items:center;gap:8px}.label.svelte-uce0eq{color:#9aa3c2;font-size:0.9em}input.svelte-uce0eq{background:#101014;border:1px solid #2a2a33;border-radius:6px;padding:6px 10px;color:#ececf1;font-size:0.9em;font-family:monospace;width:250px}input.svelte-uce0eq:focus{outline:none;border-color:#445fe6}button.svelte-uce0eq{background:#2a2a88;color:#fff;border:none;border-radius:6px;padding:6px 12px;cursor:pointer;font-size:0.85em;min-width:50px}button.svelte-uce0eq:hover{background:#3a3a98}",
  map: `{"version":3,"file":"RepoConfig.svelte","sources":["RepoConfig.svelte"],"sourcesContent":["<script lang=\\"ts\\">import { repoRoot } from \\"$lib/stores/mode\\";\\nlet inputValue = $repoRoot;\\nlet saved = false;\\nfunction handleSave() {\\n  repoRoot.set(inputValue);\\n  saved = true;\\n  setTimeout(() => saved = false, 1500);\\n}\\nfunction handleKeydown(e) {\\n  if (e.key === \\"Enter\\") handleSave();\\n}\\n<\/script>\\n\\n<div class=\\"repo-config\\">\\n  <label class=\\"label\\">Repo:</label>\\n  <input\\n    type=\\"text\\"\\n    bind:value={inputValue}\\n    placeholder=\\"/home/user/project\\"\\n    on:keydown={handleKeydown}\\n    autocomplete=\\"off\\"\\n  />\\n  <button on:click={handleSave}>\\n    {saved ? '‚úì' : 'Save'}\\n  </button>\\n</div>\\n\\n<style>\\n  .repo-config {\\n    display: flex;\\n    align-items: center;\\n    gap: 8px;\\n  }\\n\\n  .label {\\n    color: #9aa3c2;\\n    font-size: 0.9em;\\n  }\\n\\n  input {\\n    background: #101014;\\n    border: 1px solid #2a2a33;\\n    border-radius: 6px;\\n    padding: 6px 10px;\\n    color: #ececf1;\\n    font-size: 0.9em;\\n    font-family: monospace;\\n    width: 250px;\\n  }\\n\\n  input:focus {\\n    outline: none;\\n    border-color: #445fe6;\\n  }\\n\\n  button {\\n    background: #2a2a88;\\n    color: #fff;\\n    border: none;\\n    border-radius: 6px;\\n    padding: 6px 12px;\\n    cursor: pointer;\\n    font-size: 0.85em;\\n    min-width: 50px;\\n  }\\n\\n  button:hover {\\n    background: #3a3a98;\\n  }\\n</style>\\n"],"names":[],"mappings":"AA4BE,0BAAa,CACX,OAAO,CAAE,IAAI,CACb,WAAW,CAAE,MAAM,CACnB,GAAG,CAAE,GACP,CAEA,oBAAO,CACL,KAAK,CAAE,OAAO,CACd,SAAS,CAAE,KACb,CAEA,mBAAM,CACJ,UAAU,CAAE,OAAO,CACnB,MAAM,CAAE,GAAG,CAAC,KAAK,CAAC,OAAO,CACzB,aAAa,CAAE,GAAG,CAClB,OAAO,CAAE,GAAG,CAAC,IAAI,CACjB,KAAK,CAAE,OAAO,CACd,SAAS,CAAE,KAAK,CAChB,WAAW,CAAE,SAAS,CACtB,KAAK,CAAE,KACT,CAEA,mBAAK,MAAO,CACV,OAAO,CAAE,IAAI,CACb,YAAY,CAAE,OAChB,CAEA,oBAAO,CACL,UAAU,CAAE,OAAO,CACnB,KAAK,CAAE,IAAI,CACX,MAAM,CAAE,IAAI,CACZ,aAAa,CAAE,GAAG,CAClB,OAAO,CAAE,GAAG,CAAC,IAAI,CACjB,MAAM,CAAE,OAAO,CACf,SAAS,CAAE,MAAM,CACjB,SAAS,CAAE,IACb,CAEA,oBAAM,MAAO,CACX,UAAU,CAAE,OACd"}`
};
const RepoConfig = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  let $repoRoot, $$unsubscribe_repoRoot;
  $$unsubscribe_repoRoot = subscribe(repoRoot, (value) => $repoRoot = value);
  let inputValue = $repoRoot;
  $$result.css.add(css$4);
  $$unsubscribe_repoRoot();
  return `<div class="repo-config svelte-uce0eq"><label class="label svelte-uce0eq" data-svelte-h="svelte-1kpikjx">Repo:</label> <input type="text" placeholder="/home/user/project" autocomplete="off" class="svelte-uce0eq"${add_attribute("value", inputValue, 0)}> <button class="svelte-uce0eq">${escape("Save")}</button> </div>`;
});
const css$3 = {
  code: ".modal-backdrop.svelte-rwpcds.svelte-rwpcds{position:fixed;inset:0;background:rgba(0, 0, 0, 0.7);display:flex;align-items:center;justify-content:center;z-index:1000}.modal-content.svelte-rwpcds.svelte-rwpcds{background:#1a1a22;border:1px solid #2a2a33;border-radius:12px;max-width:90vw;max-height:90vh;overflow:auto;box-shadow:0 8px 32px rgba(0, 0, 0, 0.5)}.modal-header.svelte-rwpcds.svelte-rwpcds{display:flex;align-items:center;justify-content:space-between;padding:16px 20px;border-bottom:1px solid #2a2a33}.modal-header.svelte-rwpcds h3.svelte-rwpcds{margin:0;color:#ececf1;font-size:1.1em}.close-btn.svelte-rwpcds.svelte-rwpcds{background:none;border:none;color:#9aa3c2;font-size:1.5em;cursor:pointer;padding:0;line-height:1}.close-btn.svelte-rwpcds.svelte-rwpcds:hover{color:#ececf1}.modal-body.svelte-rwpcds.svelte-rwpcds{padding:20px}",
  map: '{"version":3,"file":"Modal.svelte","sources":["Modal.svelte"],"sourcesContent":["<script lang=\\"ts\\">import { createEventDispatcher } from \\"svelte\\";\\nexport let title = \\"\\";\\nexport let show = true;\\nconst dispatch = createEventDispatcher();\\nfunction handleClose() {\\n  dispatch(\\"close\\");\\n}\\nfunction handleKeydown(e) {\\n  if (e.key === \\"Escape\\") handleClose();\\n}\\nfunction handleBackdropClick(e) {\\n  if (e.target === e.currentTarget) handleClose();\\n}\\n<\/script>\\n\\n<svelte:window on:keydown={handleKeydown} />\\n\\n{#if show}\\n  <div class=\\"modal-backdrop\\" on:click={handleBackdropClick} role=\\"dialog\\" aria-modal=\\"true\\">\\n    <div class=\\"modal-content\\">\\n      {#if title}\\n        <header class=\\"modal-header\\">\\n          <h3>{title}</h3>\\n          <button class=\\"close-btn\\" on:click={handleClose} aria-label=\\"Close\\">&times;</button>\\n        </header>\\n      {/if}\\n      <div class=\\"modal-body\\">\\n        <slot />\\n      </div>\\n    </div>\\n  </div>\\n{/if}\\n\\n<style>\\n  .modal-backdrop {\\n    position: fixed;\\n    inset: 0;\\n    background: rgba(0, 0, 0, 0.7);\\n    display: flex;\\n    align-items: center;\\n    justify-content: center;\\n    z-index: 1000;\\n  }\\n\\n  .modal-content {\\n    background: #1a1a22;\\n    border: 1px solid #2a2a33;\\n    border-radius: 12px;\\n    max-width: 90vw;\\n    max-height: 90vh;\\n    overflow: auto;\\n    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);\\n  }\\n\\n  .modal-header {\\n    display: flex;\\n    align-items: center;\\n    justify-content: space-between;\\n    padding: 16px 20px;\\n    border-bottom: 1px solid #2a2a33;\\n  }\\n\\n  .modal-header h3 {\\n    margin: 0;\\n    color: #ececf1;\\n    font-size: 1.1em;\\n  }\\n\\n  .close-btn {\\n    background: none;\\n    border: none;\\n    color: #9aa3c2;\\n    font-size: 1.5em;\\n    cursor: pointer;\\n    padding: 0;\\n    line-height: 1;\\n  }\\n\\n  .close-btn:hover {\\n    color: #ececf1;\\n  }\\n\\n  .modal-body {\\n    padding: 20px;\\n  }\\n</style>\\n"],"names":[],"mappings":"AAkCE,2CAAgB,CACd,QAAQ,CAAE,KAAK,CACf,KAAK,CAAE,CAAC,CACR,UAAU,CAAE,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAC9B,OAAO,CAAE,IAAI,CACb,WAAW,CAAE,MAAM,CACnB,eAAe,CAAE,MAAM,CACvB,OAAO,CAAE,IACX,CAEA,0CAAe,CACb,UAAU,CAAE,OAAO,CACnB,MAAM,CAAE,GAAG,CAAC,KAAK,CAAC,OAAO,CACzB,aAAa,CAAE,IAAI,CACnB,SAAS,CAAE,IAAI,CACf,UAAU,CAAE,IAAI,CAChB,QAAQ,CAAE,IAAI,CACd,UAAU,CAAE,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAC1C,CAEA,yCAAc,CACZ,OAAO,CAAE,IAAI,CACb,WAAW,CAAE,MAAM,CACnB,eAAe,CAAE,aAAa,CAC9B,OAAO,CAAE,IAAI,CAAC,IAAI,CAClB,aAAa,CAAE,GAAG,CAAC,KAAK,CAAC,OAC3B,CAEA,2BAAa,CAAC,gBAAG,CACf,MAAM,CAAE,CAAC,CACT,KAAK,CAAE,OAAO,CACd,SAAS,CAAE,KACb,CAEA,sCAAW,CACT,UAAU,CAAE,IAAI,CAChB,MAAM,CAAE,IAAI,CACZ,KAAK,CAAE,OAAO,CACd,SAAS,CAAE,KAAK,CAChB,MAAM,CAAE,OAAO,CACf,OAAO,CAAE,CAAC,CACV,WAAW,CAAE,CACf,CAEA,sCAAU,MAAO,CACf,KAAK,CAAE,OACT,CAEA,uCAAY,CACV,OAAO,CAAE,IACX"}'
};
const Modal = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  let { title = "" } = $$props;
  let { show = true } = $$props;
  createEventDispatcher();
  if ($$props.title === void 0 && $$bindings.title && title !== void 0) $$bindings.title(title);
  if ($$props.show === void 0 && $$bindings.show && show !== void 0) $$bindings.show(show);
  $$result.css.add(css$3);
  return ` ${show ? `<div class="modal-backdrop svelte-rwpcds" role="dialog" aria-modal="true"><div class="modal-content svelte-rwpcds">${title ? `<header class="modal-header svelte-rwpcds"><h3 class="svelte-rwpcds">${escape(title)}</h3> <button class="close-btn svelte-rwpcds" aria-label="Close" data-svelte-h="svelte-3yidj4">√ó</button></header>` : ``} <div class="modal-body svelte-rwpcds">${slots.default ? slots.default({}) : ``}</div></div></div>` : ``}`;
});
const css$2 = {
  code: ".intervention.svelte-10cfojg.svelte-10cfojg{min-width:400px;max-width:600px}.header.svelte-10cfojg.svelte-10cfojg{display:flex;align-items:center;gap:12px;margin-bottom:16px}.badge.svelte-10cfojg.svelte-10cfojg{background:#ff6b6b;color:#fff;padding:4px 12px;border-radius:4px;font-size:0.85em;font-weight:500}.domain.svelte-10cfojg.svelte-10cfojg{color:#ececf1;font-weight:500}.message.svelte-10cfojg.svelte-10cfojg{color:#9aa3c2;margin:0 0 16px;line-height:1.5}.url-display.svelte-10cfojg.svelte-10cfojg{background:#101014;border:1px solid #2a2a33;border-radius:6px;padding:10px;margin-bottom:16px;overflow-x:auto}.url-display.svelte-10cfojg code.svelte-10cfojg{font-family:monospace;font-size:0.85em;color:#9aa3c2;word-break:break-all}.screenshot.svelte-10cfojg.svelte-10cfojg{margin-bottom:16px}.screenshot.svelte-10cfojg img.svelte-10cfojg{max-width:100%;border:1px solid #2a2a33;border-radius:6px;cursor:pointer}.screenshot.svelte-10cfojg img.svelte-10cfojg:hover{border-color:#445fe6}.actions.svelte-10cfojg.svelte-10cfojg{display:flex;gap:10px;flex-wrap:wrap}button.svelte-10cfojg.svelte-10cfojg{padding:10px 20px;border:none;border-radius:6px;cursor:pointer;font-size:0.95em;font-weight:500;transition:opacity 0.15s}button.svelte-10cfojg.svelte-10cfojg:hover{opacity:0.9}.primary.svelte-10cfojg.svelte-10cfojg{background:#ff6b6b;color:#fff}.success.svelte-10cfojg.svelte-10cfojg{background:#7fd288;color:#000}.secondary.svelte-10cfojg.svelte-10cfojg{background:#3a3a43;color:#ececf1}",
  map: `{"version":3,"file":"InterventionModal.svelte","sources":["InterventionModal.svelte"],"sourcesContent":["<script lang=\\"ts\\">import { interventions, resolveIntervention } from \\"$lib/stores/research\\";\\nimport Modal from \\"$lib/components/common/Modal.svelte\\";\\n$: current = $interventions[0];\\nconst typeLabels = {\\n  \\"captcha_recaptcha\\": \\"reCAPTCHA\\",\\n  \\"captcha_hcaptcha\\": \\"hCaptcha\\",\\n  \\"captcha_cloudflare\\": \\"Cloudflare Challenge\\",\\n  \\"captcha_generic\\": \\"CAPTCHA\\",\\n  \\"login_required\\": \\"Login Required\\",\\n  \\"rate_limit\\": \\"Rate Limited\\",\\n  \\"bot_detection\\": \\"Bot Detection\\",\\n  \\"extraction_failed\\": \\"Extraction Failed\\"\\n};\\nfunction getTypeLabel(type) {\\n  return typeLabels[type] || type;\\n}\\nfunction getDomain(url) {\\n  try {\\n    return new URL(url).hostname.replace(\\"www.\\", \\"\\");\\n  } catch {\\n    return url;\\n  }\\n}\\nfunction handleSolved() {\\n  if (current) resolveIntervention(current.id, true);\\n}\\nfunction handleSkip() {\\n  if (current) resolveIntervention(current.id, false);\\n}\\nfunction openBrowser() {\\n  if (current?.cdpUrl) {\\n    window.open(current.cdpUrl, \\"_blank\\", \\"width=1400,height=900\\");\\n  } else if (current?.url) {\\n    window.open(current.url, \\"_blank\\");\\n  }\\n}\\n<\/script>\\n\\n{#if current}\\n  <Modal title=\\"Human Assistance Required\\" on:close={handleSkip}>\\n    <div class=\\"intervention\\">\\n      <div class=\\"header\\">\\n        <span class=\\"badge\\">{getTypeLabel(current.type)}</span>\\n        <span class=\\"domain\\">{getDomain(current.url)}</span>\\n      </div>\\n\\n      <p class=\\"message\\">\\n        {#if current.cdpUrl}\\n          Click \\"Open Browser\\" to view the live browser session and solve the challenge.\\n        {:else}\\n          Open the page and solve the challenge, then click \\"I've Solved It\\".\\n        {/if}\\n      </p>\\n\\n      <div class=\\"url-display\\">\\n        <code>{current.url}</code>\\n      </div>\\n\\n      {#if current.screenshotUrl}\\n        <div class=\\"screenshot\\">\\n          <img src={current.screenshotUrl} alt=\\"Page screenshot\\" on:click={() => window.open(current.screenshotUrl, '_blank')} />\\n        </div>\\n      {/if}\\n\\n      <div class=\\"actions\\">\\n        <button class=\\"primary\\" on:click={openBrowser}>\\n          üñ•Ô∏è Open Browser\\n        </button>\\n        <button class=\\"success\\" on:click={handleSolved}>\\n          ‚úì I've Solved It\\n        </button>\\n        <button class=\\"secondary\\" on:click={handleSkip}>\\n          Skip\\n        </button>\\n      </div>\\n    </div>\\n  </Modal>\\n{/if}\\n\\n<style>\\n  .intervention {\\n    min-width: 400px;\\n    max-width: 600px;\\n  }\\n\\n  .header {\\n    display: flex;\\n    align-items: center;\\n    gap: 12px;\\n    margin-bottom: 16px;\\n  }\\n\\n  .badge {\\n    background: #ff6b6b;\\n    color: #fff;\\n    padding: 4px 12px;\\n    border-radius: 4px;\\n    font-size: 0.85em;\\n    font-weight: 500;\\n  }\\n\\n  .domain {\\n    color: #ececf1;\\n    font-weight: 500;\\n  }\\n\\n  .message {\\n    color: #9aa3c2;\\n    margin: 0 0 16px;\\n    line-height: 1.5;\\n  }\\n\\n  .url-display {\\n    background: #101014;\\n    border: 1px solid #2a2a33;\\n    border-radius: 6px;\\n    padding: 10px;\\n    margin-bottom: 16px;\\n    overflow-x: auto;\\n  }\\n\\n  .url-display code {\\n    font-family: monospace;\\n    font-size: 0.85em;\\n    color: #9aa3c2;\\n    word-break: break-all;\\n  }\\n\\n  .screenshot {\\n    margin-bottom: 16px;\\n  }\\n\\n  .screenshot img {\\n    max-width: 100%;\\n    border: 1px solid #2a2a33;\\n    border-radius: 6px;\\n    cursor: pointer;\\n  }\\n\\n  .screenshot img:hover {\\n    border-color: #445fe6;\\n  }\\n\\n  .actions {\\n    display: flex;\\n    gap: 10px;\\n    flex-wrap: wrap;\\n  }\\n\\n  button {\\n    padding: 10px 20px;\\n    border: none;\\n    border-radius: 6px;\\n    cursor: pointer;\\n    font-size: 0.95em;\\n    font-weight: 500;\\n    transition: opacity 0.15s;\\n  }\\n\\n  button:hover {\\n    opacity: 0.9;\\n  }\\n\\n  .primary {\\n    background: #ff6b6b;\\n    color: #fff;\\n  }\\n\\n  .success {\\n    background: #7fd288;\\n    color: #000;\\n  }\\n\\n  .secondary {\\n    background: #3a3a43;\\n    color: #ececf1;\\n  }\\n</style>\\n"],"names":[],"mappings":"AAgFE,2CAAc,CACZ,SAAS,CAAE,KAAK,CAChB,SAAS,CAAE,KACb,CAEA,qCAAQ,CACN,OAAO,CAAE,IAAI,CACb,WAAW,CAAE,MAAM,CACnB,GAAG,CAAE,IAAI,CACT,aAAa,CAAE,IACjB,CAEA,oCAAO,CACL,UAAU,CAAE,OAAO,CACnB,KAAK,CAAE,IAAI,CACX,OAAO,CAAE,GAAG,CAAC,IAAI,CACjB,aAAa,CAAE,GAAG,CAClB,SAAS,CAAE,MAAM,CACjB,WAAW,CAAE,GACf,CAEA,qCAAQ,CACN,KAAK,CAAE,OAAO,CACd,WAAW,CAAE,GACf,CAEA,sCAAS,CACP,KAAK,CAAE,OAAO,CACd,MAAM,CAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAChB,WAAW,CAAE,GACf,CAEA,0CAAa,CACX,UAAU,CAAE,OAAO,CACnB,MAAM,CAAE,GAAG,CAAC,KAAK,CAAC,OAAO,CACzB,aAAa,CAAE,GAAG,CAClB,OAAO,CAAE,IAAI,CACb,aAAa,CAAE,IAAI,CACnB,UAAU,CAAE,IACd,CAEA,2BAAY,CAAC,mBAAK,CAChB,WAAW,CAAE,SAAS,CACtB,SAAS,CAAE,MAAM,CACjB,KAAK,CAAE,OAAO,CACd,UAAU,CAAE,SACd,CAEA,yCAAY,CACV,aAAa,CAAE,IACjB,CAEA,0BAAW,CAAC,kBAAI,CACd,SAAS,CAAE,IAAI,CACf,MAAM,CAAE,GAAG,CAAC,KAAK,CAAC,OAAO,CACzB,aAAa,CAAE,GAAG,CAClB,MAAM,CAAE,OACV,CAEA,0BAAW,CAAC,kBAAG,MAAO,CACpB,YAAY,CAAE,OAChB,CAEA,sCAAS,CACP,OAAO,CAAE,IAAI,CACb,GAAG,CAAE,IAAI,CACT,SAAS,CAAE,IACb,CAEA,oCAAO,CACL,OAAO,CAAE,IAAI,CAAC,IAAI,CAClB,MAAM,CAAE,IAAI,CACZ,aAAa,CAAE,GAAG,CAClB,MAAM,CAAE,OAAO,CACf,SAAS,CAAE,MAAM,CACjB,WAAW,CAAE,GAAG,CAChB,UAAU,CAAE,OAAO,CAAC,KACtB,CAEA,oCAAM,MAAO,CACX,OAAO,CAAE,GACX,CAEA,sCAAS,CACP,UAAU,CAAE,OAAO,CACnB,KAAK,CAAE,IACT,CAEA,sCAAS,CACP,UAAU,CAAE,OAAO,CACnB,KAAK,CAAE,IACT,CAEA,wCAAW,CACT,UAAU,CAAE,OAAO,CACnB,KAAK,CAAE,OACT"}`
};
function getDomain(url) {
  try {
    return new URL(url).hostname.replace("www.", "");
  } catch {
    return url;
  }
}
const InterventionModal = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  let current;
  let $interventions, $$unsubscribe_interventions;
  $$unsubscribe_interventions = subscribe(interventions, (value) => $interventions = value);
  const typeLabels = {
    "captcha_recaptcha": "reCAPTCHA",
    "captcha_hcaptcha": "hCaptcha",
    "captcha_cloudflare": "Cloudflare Challenge",
    "captcha_generic": "CAPTCHA",
    "login_required": "Login Required",
    "rate_limit": "Rate Limited",
    "bot_detection": "Bot Detection",
    "extraction_failed": "Extraction Failed"
  };
  function getTypeLabel(type) {
    return typeLabels[type] || type;
  }
  $$result.css.add(css$2);
  current = $interventions[0];
  $$unsubscribe_interventions();
  return `${current ? `${validate_component(Modal, "Modal").$$render($$result, { title: "Human Assistance Required" }, {}, {
    default: () => {
      return `<div class="intervention svelte-10cfojg"><div class="header svelte-10cfojg"><span class="badge svelte-10cfojg">${escape(getTypeLabel(current.type))}</span> <span class="domain svelte-10cfojg">${escape(getDomain(current.url))}</span></div> <p class="message svelte-10cfojg">${current.cdpUrl ? `Click &quot;Open Browser&quot; to view the live browser session and solve the challenge.` : `Open the page and solve the challenge, then click &quot;I&#39;ve Solved It&quot;.`}</p> <div class="url-display svelte-10cfojg"><code class="svelte-10cfojg">${escape(current.url)}</code></div> ${current.screenshotUrl ? `<div class="screenshot svelte-10cfojg"><img${add_attribute("src", current.screenshotUrl, 0)} alt="Page screenshot" class="svelte-10cfojg"></div>` : ``} <div class="actions svelte-10cfojg"><button class="primary svelte-10cfojg" data-svelte-h="svelte-tkbw3y">üñ•Ô∏è Open Browser</button> <button class="success svelte-10cfojg" data-svelte-h="svelte-16bvhg3">‚úì I&#39;ve Solved It</button> <button class="secondary svelte-10cfojg" data-svelte-h="svelte-1fdofu9">Skip</button></div></div>`;
    }
  })}` : ``}`;
});
const css$1 = {
  code: ".status-bar.svelte-2esayh{background:#1a1a22;border-bottom:1px solid #2a2a33;padding:8px 16px;display:flex;gap:24px;flex-wrap:wrap;font-size:0.85em}.item.svelte-2esayh{display:flex;align-items:center;gap:6px}.label.svelte-2esayh{color:#9aa3c2}.value.svelte-2esayh{color:#7fd288}.mono.svelte-2esayh{font-family:monospace;max-width:300px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.perms.svelte-2esayh{font-size:0.9em}",
  map: `{"version":3,"file":"ContextStatusBar.svelte","sources":["ContextStatusBar.svelte"],"sourcesContent":["<script lang=\\"ts\\">import { mode, repoRoot } from \\"$lib/stores/mode\\";\\n$: modePermissions = $mode === \\"chat\\" ? \\"(read-only)\\" : \\"(read/write)\\";\\n$: permColor = $mode === \\"code\\" ? \\"#ff6b6b\\" : \\"#7fd288\\";\\n<\/script>\\n\\n<div class=\\"status-bar\\">\\n  <div class=\\"item\\">\\n    <span class=\\"label\\">Repo:</span>\\n    <span class=\\"value mono\\" title={$repoRoot || 'Not set'}>\\n      {$repoRoot || '<not set>'}\\n    </span>\\n  </div>\\n\\n  <div class=\\"item\\">\\n    <span class=\\"label\\">Mode:</span>\\n    <span class=\\"value\\">{$mode}</span>\\n    <span class=\\"perms\\" style=\\"color: {permColor}\\">{modePermissions}</span>\\n  </div>\\n</div>\\n\\n<style>\\n  .status-bar {\\n    background: #1a1a22;\\n    border-bottom: 1px solid #2a2a33;\\n    padding: 8px 16px;\\n    display: flex;\\n    gap: 24px;\\n    flex-wrap: wrap;\\n    font-size: 0.85em;\\n  }\\n\\n  .item {\\n    display: flex;\\n    align-items: center;\\n    gap: 6px;\\n  }\\n\\n  .label {\\n    color: #9aa3c2;\\n  }\\n\\n  .value {\\n    color: #7fd288;\\n  }\\n\\n  .mono {\\n    font-family: monospace;\\n    max-width: 300px;\\n    overflow: hidden;\\n    text-overflow: ellipsis;\\n    white-space: nowrap;\\n  }\\n\\n  .perms {\\n    font-size: 0.9em;\\n  }\\n</style>\\n"],"names":[],"mappings":"AAqBE,yBAAY,CACV,UAAU,CAAE,OAAO,CACnB,aAAa,CAAE,GAAG,CAAC,KAAK,CAAC,OAAO,CAChC,OAAO,CAAE,GAAG,CAAC,IAAI,CACjB,OAAO,CAAE,IAAI,CACb,GAAG,CAAE,IAAI,CACT,SAAS,CAAE,IAAI,CACf,SAAS,CAAE,MACb,CAEA,mBAAM,CACJ,OAAO,CAAE,IAAI,CACb,WAAW,CAAE,MAAM,CACnB,GAAG,CAAE,GACP,CAEA,oBAAO,CACL,KAAK,CAAE,OACT,CAEA,oBAAO,CACL,KAAK,CAAE,OACT,CAEA,mBAAM,CACJ,WAAW,CAAE,SAAS,CACtB,SAAS,CAAE,KAAK,CAChB,QAAQ,CAAE,MAAM,CAChB,aAAa,CAAE,QAAQ,CACvB,WAAW,CAAE,MACf,CAEA,oBAAO,CACL,SAAS,CAAE,KACb"}`
};
const ContextStatusBar = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  let modePermissions;
  let permColor;
  let $mode, $$unsubscribe_mode;
  let $repoRoot, $$unsubscribe_repoRoot;
  $$unsubscribe_mode = subscribe(mode, (value) => $mode = value);
  $$unsubscribe_repoRoot = subscribe(repoRoot, (value) => $repoRoot = value);
  $$result.css.add(css$1);
  modePermissions = $mode === "chat" ? "(read-only)" : "(read/write)";
  permColor = $mode === "code" ? "#ff6b6b" : "#7fd288";
  $$unsubscribe_mode();
  $$unsubscribe_repoRoot();
  return `<div class="status-bar svelte-2esayh"><div class="item svelte-2esayh"><span class="label svelte-2esayh" data-svelte-h="svelte-18nf2fh">Repo:</span> <span class="value mono svelte-2esayh"${add_attribute("title", $repoRoot || "Not set", 0)}>${escape($repoRoot || "<not set>")}</span></div> <div class="item svelte-2esayh"><span class="label svelte-2esayh" data-svelte-h="svelte-1dfvr1q">Mode:</span> <span class="value svelte-2esayh">${escape($mode)}</span> <span class="perms svelte-2esayh" style="${"color: " + escape(permColor, true)}">${escape(modePermissions)}</span></div> </div>`;
});
const css = {
  code: ".container.svelte-rb2d6j.svelte-rb2d6j{max-width:1000px;margin:0 auto;height:100vh;display:flex;flex-direction:column;background:#17171c;box-shadow:0 0 40px rgba(0, 0, 0, 0.5);overflow:hidden}.container.ide-mode.svelte-rb2d6j.svelte-rb2d6j{max-width:100%;margin:0;box-shadow:none}.app-header.svelte-rb2d6j.svelte-rb2d6j{display:flex;align-items:center;justify-content:space-between;padding:16px 20px;background:#16161a;border-bottom:1px solid #22222a;flex-shrink:0}.brand.svelte-rb2d6j.svelte-rb2d6j{display:flex;align-items:center;gap:12px}.logo.svelte-rb2d6j.svelte-rb2d6j{height:32px;width:auto}h1.svelte-rb2d6j.svelte-rb2d6j{margin:0;font-size:1.4em;font-weight:700;color:#ececf1;letter-spacing:0.02em}nav.svelte-rb2d6j.svelte-rb2d6j{display:flex;gap:16px}nav.svelte-rb2d6j a.svelte-rb2d6j{color:#68a8ef;font-size:0.85em;text-decoration:none}nav.svelte-rb2d6j a.svelte-rb2d6j:hover{text-decoration:underline}.toolbar.svelte-rb2d6j.svelte-rb2d6j{display:flex;align-items:center;gap:16px;padding:12px 16px;background:#181820;border-bottom:1px solid #22222a;flex-wrap:wrap;flex-shrink:0}.main-content.svelte-rb2d6j.svelte-rb2d6j{flex:1;display:flex;flex-direction:column;min-height:0;overflow:hidden}@media(max-width: 768px){.container.svelte-rb2d6j.svelte-rb2d6j{max-width:100%}.toolbar.svelte-rb2d6j.svelte-rb2d6j{gap:12px}.app-header.svelte-rb2d6j.svelte-rb2d6j{flex-direction:column;gap:12px}}",
  map: `{"version":3,"file":"+page.svelte","sources":["+page.svelte"],"sourcesContent":["<script lang=\\"ts\\">import Chat from \\"$lib/components/chat/Chat.svelte\\";\\nimport { IDEWorkspace } from \\"$lib/components/ide\\";\\nimport ModeSelector from \\"$lib/components/pandora/ModeSelector.svelte\\";\\nimport ProfileManager from \\"$lib/components/pandora/ProfileManager.svelte\\";\\nimport RepoConfig from \\"$lib/components/pandora/RepoConfig.svelte\\";\\nimport InterventionModal from \\"$lib/components/pandora/InterventionModal.svelte\\";\\nimport ContextStatusBar from \\"$lib/components/pandora/ContextStatusBar.svelte\\";\\nimport { mode } from \\"$lib/stores/mode\\";\\n<\/script>\\n\\n<svelte:head>\\n  <title>Pandora AI</title>\\n</svelte:head>\\n\\n<div class=\\"container\\" class:ide-mode={$mode === 'code'}>\\n  <header class=\\"app-header\\">\\n    <div class=\\"brand\\">\\n      <img src=\\"/icons/panda-hamster.svg\\" alt=\\"Pandora\\" class=\\"logo\\" />\\n      <h1>Pandora AI</h1>\\n    </div>\\n    <nav>\\n      <a href=\\"/transcripts\\">Transcripts</a>\\n      <a href=\\"/research_monitor.html\\" target=\\"_blank\\">üîç Research</a>\\n    </nav>\\n  </header>\\n\\n  <div class=\\"toolbar\\">\\n    <ModeSelector />\\n    <ProfileManager />\\n    {#if $mode === 'code'}\\n      <RepoConfig />\\n    {/if}\\n  </div>\\n\\n  <ContextStatusBar />\\n\\n  <main class=\\"main-content\\">\\n    {#if $mode === 'code'}\\n      <IDEWorkspace />\\n    {:else}\\n      <Chat />\\n    {/if}\\n  </main>\\n\\n  <InterventionModal />\\n</div>\\n\\n<style>\\n  .container {\\n    max-width: 1000px;\\n    margin: 0 auto;\\n    height: 100vh;\\n    display: flex;\\n    flex-direction: column;\\n    background: #17171c;\\n    box-shadow: 0 0 40px rgba(0, 0, 0, 0.5);\\n    overflow: hidden;\\n  }\\n\\n  .container.ide-mode {\\n    max-width: 100%;\\n    margin: 0;\\n    box-shadow: none;\\n  }\\n\\n  .app-header {\\n    display: flex;\\n    align-items: center;\\n    justify-content: space-between;\\n    padding: 16px 20px;\\n    background: #16161a;\\n    border-bottom: 1px solid #22222a;\\n    flex-shrink: 0;\\n  }\\n\\n  .brand {\\n    display: flex;\\n    align-items: center;\\n    gap: 12px;\\n  }\\n\\n  .logo {\\n    height: 32px;\\n    width: auto;\\n  }\\n\\n  h1 {\\n    margin: 0;\\n    font-size: 1.4em;\\n    font-weight: 700;\\n    color: #ececf1;\\n    letter-spacing: 0.02em;\\n  }\\n\\n  nav {\\n    display: flex;\\n    gap: 16px;\\n  }\\n\\n  nav a {\\n    color: #68a8ef;\\n    font-size: 0.85em;\\n    text-decoration: none;\\n  }\\n\\n  nav a:hover {\\n    text-decoration: underline;\\n  }\\n\\n  .toolbar {\\n    display: flex;\\n    align-items: center;\\n    gap: 16px;\\n    padding: 12px 16px;\\n    background: #181820;\\n    border-bottom: 1px solid #22222a;\\n    flex-wrap: wrap;\\n    flex-shrink: 0;\\n  }\\n\\n  .main-content {\\n    flex: 1;\\n    display: flex;\\n    flex-direction: column;\\n    min-height: 0;\\n    overflow: hidden;\\n  }\\n\\n  @media (max-width: 768px) {\\n    .container {\\n      max-width: 100%;\\n    }\\n\\n    .toolbar {\\n      gap: 12px;\\n    }\\n\\n    .app-header {\\n      flex-direction: column;\\n      gap: 12px;\\n    }\\n  }\\n</style>\\n"],"names":[],"mappings":"AAgDE,sCAAW,CACT,SAAS,CAAE,MAAM,CACjB,MAAM,CAAE,CAAC,CAAC,IAAI,CACd,MAAM,CAAE,KAAK,CACb,OAAO,CAAE,IAAI,CACb,cAAc,CAAE,MAAM,CACtB,UAAU,CAAE,OAAO,CACnB,UAAU,CAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CACvC,QAAQ,CAAE,MACZ,CAEA,UAAU,qCAAU,CAClB,SAAS,CAAE,IAAI,CACf,MAAM,CAAE,CAAC,CACT,UAAU,CAAE,IACd,CAEA,uCAAY,CACV,OAAO,CAAE,IAAI,CACb,WAAW,CAAE,MAAM,CACnB,eAAe,CAAE,aAAa,CAC9B,OAAO,CAAE,IAAI,CAAC,IAAI,CAClB,UAAU,CAAE,OAAO,CACnB,aAAa,CAAE,GAAG,CAAC,KAAK,CAAC,OAAO,CAChC,WAAW,CAAE,CACf,CAEA,kCAAO,CACL,OAAO,CAAE,IAAI,CACb,WAAW,CAAE,MAAM,CACnB,GAAG,CAAE,IACP,CAEA,iCAAM,CACJ,MAAM,CAAE,IAAI,CACZ,KAAK,CAAE,IACT,CAEA,8BAAG,CACD,MAAM,CAAE,CAAC,CACT,SAAS,CAAE,KAAK,CAChB,WAAW,CAAE,GAAG,CAChB,KAAK,CAAE,OAAO,CACd,cAAc,CAAE,MAClB,CAEA,+BAAI,CACF,OAAO,CAAE,IAAI,CACb,GAAG,CAAE,IACP,CAEA,iBAAG,CAAC,eAAE,CACJ,KAAK,CAAE,OAAO,CACd,SAAS,CAAE,MAAM,CACjB,eAAe,CAAE,IACnB,CAEA,iBAAG,CAAC,eAAC,MAAO,CACV,eAAe,CAAE,SACnB,CAEA,oCAAS,CACP,OAAO,CAAE,IAAI,CACb,WAAW,CAAE,MAAM,CACnB,GAAG,CAAE,IAAI,CACT,OAAO,CAAE,IAAI,CAAC,IAAI,CAClB,UAAU,CAAE,OAAO,CACnB,aAAa,CAAE,GAAG,CAAC,KAAK,CAAC,OAAO,CAChC,SAAS,CAAE,IAAI,CACf,WAAW,CAAE,CACf,CAEA,yCAAc,CACZ,IAAI,CAAE,CAAC,CACP,OAAO,CAAE,IAAI,CACb,cAAc,CAAE,MAAM,CACtB,UAAU,CAAE,CAAC,CACb,QAAQ,CAAE,MACZ,CAEA,MAAO,YAAY,KAAK,CAAE,CACxB,sCAAW,CACT,SAAS,CAAE,IACb,CAEA,oCAAS,CACP,GAAG,CAAE,IACP,CAEA,uCAAY,CACV,cAAc,CAAE,MAAM,CACtB,GAAG,CAAE,IACP,CACF"}`
};
const Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  let $mode, $$unsubscribe_mode;
  $$unsubscribe_mode = subscribe(mode, (value) => $mode = value);
  $$result.css.add(css);
  $$unsubscribe_mode();
  return `${$$result.head += `<!-- HEAD_svelte-1nxedmo_START -->${$$result.title = `<title>Pandora AI</title>`, ""}<!-- HEAD_svelte-1nxedmo_END -->`, ""} <div class="${["container svelte-rb2d6j", $mode === "code" ? "ide-mode" : ""].join(" ").trim()}"><header class="app-header svelte-rb2d6j" data-svelte-h="svelte-o4chyq"><div class="brand svelte-rb2d6j"><img src="/icons/panda-hamster.svg" alt="Pandora" class="logo svelte-rb2d6j"> <h1 class="svelte-rb2d6j">Pandora AI</h1></div> <nav class="svelte-rb2d6j"><a href="/transcripts" class="svelte-rb2d6j">Transcripts</a> <a href="/research_monitor.html" target="_blank" class="svelte-rb2d6j">üîç Research</a></nav></header> <div class="toolbar svelte-rb2d6j">${validate_component(ModeSelector, "ModeSelector").$$render($$result, {}, {}, {})} ${validate_component(ProfileManager, "ProfileManager").$$render($$result, {}, {}, {})} ${$mode === "code" ? `${validate_component(RepoConfig, "RepoConfig").$$render($$result, {}, {}, {})}` : ``}</div> ${validate_component(ContextStatusBar, "ContextStatusBar").$$render($$result, {}, {}, {})} <main class="main-content svelte-rb2d6j">${$mode === "code" ? `${validate_component(IDEWorkspace, "IDEWorkspace").$$render($$result, {}, {}, {})}` : `${validate_component(Chat, "Chat").$$render($$result, {}, {}, {})}`}</main> ${validate_component(InterventionModal, "InterventionModal").$$render($$result, {}, {}, {})} </div>`;
});
export {
  Page as default
};
