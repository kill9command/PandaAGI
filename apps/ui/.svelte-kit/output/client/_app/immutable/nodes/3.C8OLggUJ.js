import{s as J,n as H,d as i,c as w,e as c,o as u,p as K,j as D,f as _,g as E,q as N,l as P,k as v,u as O,b as y,h as A,t as T,v as Q}from"../chunks/scheduler.DzwVX6aR.js";import{e as R}from"../chunks/each.DT1-dA3s.js";import{S as U,i as W}from"../chunks/index.F3VcX34h.js";function $(r,e,s){const t=r.slice();return t[3]=e[s],t}function X(r){let e,s=R(r[0]),t=[];for(let a=0;a<s.length;a+=1)t[a]=z($(r,s,a));return{c(){e=v("div");for(let a=0;a<t.length;a+=1)t[a].c();this.h()},l(a){e=_(a,"DIV",{class:!0});var n=E(e);for(let l=0;l<t.length;l+=1)t[l].l(n);n.forEach(i),this.h()},h(){u(e,"class","list svelte-1pgk7o0")},m(a,n){w(a,e,n);for(let l=0;l<t.length;l+=1)t[l]&&t[l].m(e,null)},p(a,n){if(n&1){s=R(a[0]);let l;for(l=0;l<s.length;l+=1){const p=$(a,s,l);t[l]?t[l].p(p,n):(t[l]=z(p),t[l].c(),t[l].m(e,null))}for(;l<t.length;l+=1)t[l].d(1);t.length=s.length}},d(a){a&&i(e),Q(t,a)}}}function Y(r){let e,s="No transcripts found.";return{c(){e=v("p"),e.textContent=s,this.h()},l(t){e=_(t,"P",{class:!0,"data-svelte-h":!0}),N(e)!=="svelte-13pec91"&&(e.textContent=s),this.h()},h(){u(e,"class","status svelte-1pgk7o0")},m(t,a){w(t,e,a)},p:H,d(t){t&&i(e)}}}function Z(r){let e,s;return{c(){e=v("p"),s=T(r[2]),this.h()},l(t){e=_(t,"P",{class:!0});var a=E(e);s=A(a,r[2]),a.forEach(i),this.h()},h(){u(e,"class","status error svelte-1pgk7o0")},m(t,a){w(t,e,a),c(e,s)},p(t,a){a&4&&y(s,t[2])},d(t){t&&i(e)}}}function ee(r){let e,s="Loading...";return{c(){e=v("p"),e.textContent=s,this.h()},l(t){e=_(t,"P",{class:!0,"data-svelte-h":!0}),N(e)!=="svelte-ai78h5"&&(e.textContent=s),this.h()},h(){u(e,"class","status svelte-1pgk7o0")},m(t,a){w(t,e,a)},p:H,d(t){t&&i(e)}}}function z(r){let e,s,t,a=r[3].mode+"",n,l,p,g=G(r[3].timestamp)+"",h,o,d,k=r[3].user_preview+"",b,L,C,I=r[3].final_preview+"",S,M,V;return{c(){e=v("a"),s=v("div"),t=v("span"),n=T(a),l=P(),p=v("span"),h=T(g),o=P(),d=v("div"),b=T(k),L=P(),C=v("div"),S=T(I),M=P(),this.h()},l(m){e=_(m,"A",{href:!0,class:!0});var f=E(e);s=_(f,"DIV",{class:!0});var q=E(s);t=_(q,"SPAN",{class:!0});var j=E(t);n=A(j,a),j.forEach(i),l=D(q),p=_(q,"SPAN",{class:!0});var x=E(p);h=A(x,g),x.forEach(i),q.forEach(i),o=D(f),d=_(f,"DIV",{class:!0});var B=E(d);b=A(B,k),B.forEach(i),L=D(f),C=_(f,"DIV",{class:!0});var F=E(C);S=A(F,I),F.forEach(i),M=D(f),f.forEach(i),this.h()},h(){u(t,"class","mode svelte-1pgk7o0"),u(p,"class","time svelte-1pgk7o0"),u(s,"class","meta svelte-1pgk7o0"),u(d,"class","user svelte-1pgk7o0"),u(C,"class","response svelte-1pgk7o0"),u(e,"href",V="/transcripts/"+r[3].trace_id),u(e,"class","item svelte-1pgk7o0")},m(m,f){w(m,e,f),c(e,s),c(s,t),c(t,n),c(s,l),c(s,p),c(p,h),c(e,o),c(e,d),c(d,b),c(e,L),c(e,C),c(C,S),c(e,M)},p(m,f){f&1&&a!==(a=m[3].mode+"")&&y(n,a),f&1&&g!==(g=G(m[3].timestamp)+"")&&y(h,g),f&1&&k!==(k=m[3].user_preview+"")&&y(b,k),f&1&&I!==(I=m[3].final_preview+"")&&y(S,I),f&1&&V!==(V="/transcripts/"+m[3].trace_id)&&u(e,"href",V)},d(m){m&&i(e)}}}function te(r){let e,s,t,a='<a href="/" class="back svelte-1pgk7o0">‚Üê Back to Chat</a> <h1 class="svelte-1pgk7o0">Transcripts</h1>',n,l;function p(o,d){return o[1]?ee:o[2]?Z:o[0].length===0?Y:X}let g=p(r),h=g(r);return{c(){e=P(),s=v("div"),t=v("header"),t.innerHTML=a,n=P(),l=v("main"),h.c(),this.h()},l(o){K("svelte-obx0ts",document.head).forEach(i),e=D(o),s=_(o,"DIV",{class:!0});var k=E(s);t=_(k,"HEADER",{class:!0,"data-svelte-h":!0}),N(t)!=="svelte-1q1jhqy"&&(t.innerHTML=a),n=D(k),l=_(k,"MAIN",{});var b=E(l);h.l(b),b.forEach(i),k.forEach(i),this.h()},h(){document.title="Transcripts - Pandora AI",u(t,"class","svelte-1pgk7o0"),u(s,"class","container svelte-1pgk7o0")},m(o,d){w(o,e,d),w(o,s,d),c(s,t),c(s,n),c(s,l),h.m(l,null)},p(o,[d]){g===(g=p(o))&&h?h.p(o,d):(h.d(1),h=g(o),h&&(h.c(),h.m(l,null)))},i:H,o:H,d(o){o&&(i(e),i(s)),h.d()}}}function G(r){return new Date(r).toLocaleString()}function se(r,e,s){let t=[],a=!0,n="";return O(async()=>{try{const l=await fetch("/transcripts");if(!l.ok)throw new Error(`HTTP ${l.status}`);const p=await l.json();s(0,t=p.transcripts||[])}catch(l){s(2,n=l instanceof Error?l.message:"Failed to load transcripts")}finally{s(1,a=!1)}}),[t,a,n]}class ne extends U{constructor(e){super(),W(this,e,se,te,J,{})}}export{ne as component};
